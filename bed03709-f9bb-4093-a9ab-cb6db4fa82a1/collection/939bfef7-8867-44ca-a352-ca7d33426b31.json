{"info":{"_postman_id":"939bfef7-8867-44ca-a352-ca7d33426b31","name":"Parcours Commerçant","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"SignUp","event":[{"listen":"test","script":{"id":"75672140-3ddf-4513-86b0-da96b339f963","exec":["var jsonData = pm.response.json ();\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test (\"La réponse a un corps JSON\", function () {\r","    pm.response.to.be.json;\r","    \r","});\r","\r","pm.test('verification de la presence des éléments', function () {\r","    //pm.expect(jsonData.user).to.have.property('id','email','firstName','lastName','nickname','mobilePhoneNumber');\r","    pm.expect(jsonData.user).to.be.an('object');\r","    pm.expect(jsonData.user.id).to.be.a('number');\r","    pm.expect(jsonData.user.email).to.include(\"@\", '.');\r","    pm.expect(jsonData.user.firstName).not.to.be.null;\r","    pm.expect(jsonData.user.lastName).not.to.be.null;\r","   \r","    pm.expect(jsonData.user.mobilePhoneNumber).not.to.be.null\r","})\r","\r","pm.test('verification de la presence du thoken', function () {\r","    pm.expect(jsonData).to.have.property('authToken'),\r","    pm.expect(jsonData.authToken).not.to.be.null,\r","    pm.expect (jsonData.authToken).to.be.a('string')\r","});\r","pm.test('envoi du token vers  la mise à jour du profil cityzen', function (){\r","    pm.environment.set('CreateShoptoken', jsonData.authToken);\r","    pm.environment.set('CreateShopEmail', jsonData.user.email);\r","    \r","})"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"b6e66e1b-1133-47dd-a4c8-79dd34b9b268","exec":["let date = Date.now()\r","let email = \"testvendeur\" + date + \"@mvms.fr\"\r","pm.environment.set('VendeurEmail', email)"],"type":"text/javascript"}}],"id":"285407b8-1eef-4494-8dab-fd5d08b17110","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{VendeurEmail}}\",\n    \"password\": \"Ben@194561\",\n    \"cityletterAcceptance\": 0,\n    \"policyRulePrivacyTerms\": true,\n    \"type\": \"pro\",\n    \"firstName\": \"Ben\",\n    \"lastName\": \"Diagui\",\n    \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users"]},"description":"Create user account."},"response":[{"id":"4e7cd203-efac-4b4d-b8c5-24d08fd4dd84","name":"Successful response","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\",\n    \"cityletterAcceptance\": 0,\n    \"policyRulePrivacyTerms\": true,\n    \"type\": \"customer\",\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The One\",\n    \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users","host":["{{baseUrl}}"],"path":["api","v1","users"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"user\": {\n  \"id\": 1,\n  \"email\": \"example@mail.com\",\n  \"firstName\": \"Harry\",\n  \"lastName\": \"Potter\",\n  \"nickname\": \"The Wizard\",\n  \"mobilePhoneNumber\": \"The Wizard\"\n },\n \"authToken\": \"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6NDgwNTcsImV4cCI6MTYyNTE0Mzk5OX0.m-YPjUs8MqZItjCTrI-1j1YqOB1VH8wme8sveFUULyU\"\n}"},{"id":"99a46f39-b85a-40b5-ac30-ba43d693d765","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\",\n    \"cityletterAcceptance\": 0,\n    \"policyRulePrivacyTerms\": true,\n    \"type\": \"customer\",\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The One\",\n    \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users","host":["{{baseUrl}}"],"path":["api","v1","users"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"3239618c-28d8-4a11-9b8c-d8ac1cdecad1","name":"An Error Happened","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\",\n    \"cityletterAcceptance\": 0,\n    \"policyRulePrivacyTerms\": true,\n    \"type\": \"customer\",\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The One\",\n    \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users","host":["{{baseUrl}}"],"path":["api","v1","users"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Internal Error\",\n \"status\": 500\n}"}]},{"name":"Create Shop","event":[{"listen":"prerequest","script":{"id":"177ad583-927a-4181-8648-0a5ef2ef3b31","exec":["let date = Date.now();\r","let ShopName = \"Test Vendeur \" + date;\r","//let ShopEmail = \"y.diagana\"+ShopName+date;\r","pm.environment.set('ShopName', ShopName)"],"type":"text/javascript"}},{"listen":"test","script":{"id":"40583504-3267-4ac7-9793-89e091ef9b9e","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test('verification du contenu de la reponse', function(){\r","    pm.expect(jsonData.id).to.be.a('number');\r","    pm.expect(jsonData.name).not.to.be.null;\r","    pm.expect(jsonData.address.streetNumber).to.be.a('string');\r","    pm.expect(jsonData.address.postalCode).to.be.a('string');\r","    pm.expect(jsonData.address.inseeCode).to.be.a('string');   \r","    pm.expect(jsonData.siret).to.be.a('string'); \r","    pm.expect(jsonData.mobileNumber).to.be.a('string')  \r","});\r","\r","\r","pm.test(\"envoi de l\\'id du shop\", function(){\r","    pm.environment.set(\"CreateShopId\", jsonData.id);\r","    pm.environment.set(\"CreateShopEmail\",jsonData.email );\r","    postman.setNextRequest('shop informations')\r","});"],"type":"text/javascript"}}],"id":"5ff36733-806f-4420-a847-40925eb637a1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CreateShoptoken}}"},{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"{{ShopName}}\",\n    \"address\": {\n        \"streetNumber\": \"33\",\n        \"route\": \"Rue Georges Bonnac\",\n        \"locality\": \"Bordeaux\",\n        \"country\": \"France\",\n        \"postalCode\": \"33000\",\n        \"latitude\": 44.82408,\n        \"longitude\": -0.62295,\n        \"inseeCode\": \"33063\"\n    },\n    \"email\": \"testvendeur1658337924251@mvms.fr\",\n    \"mobileNumber\": \"0677777777\",\n    \"siret\": \"75409821800029\",\n    \"avatarId\": 168680,\n   // \"avatarUrl\": \"http://www.image.com/image.jpg\",\n    \"coverId\": 168681,\n    //\"coverUrl\": \"http://www.image.com/image.jpg\",\n    /*\"imageIds\": [\n        1,\n        1\n    ],*/\n    /*\"imageUrls\": [\n        \"http://www.image.com/image.jpg\",\n        \"http://www.image.com/image.jpg\"\n    ],*/\n    \"description\": \"La description d'une boutique\",\n    \"baseline\": \"Ma boutique est top\",\n    \"facebookLink\": \"http://www.facebook.com/boutique\",\n    \"instagramLink\": \"http://www.instagram.com/boutique\",\n    \"websiteLink\": \"http://www.boutique.com/\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{ShopsSlug}}/api/v1/auth/shops","host":["{{BaseUrl}}"],"path":["{{ShopsSlug}}","api","v1","auth","shops"]}},"response":[{"id":"69b6e275-ab37-4bc6-a5d8-d66ec2e8178c","name":"Created","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui quis"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"Jardin Local\",\n  \"address\": {\n    \"streetNumber\": \"33\",\n    \"route\": \"Rue Georges Bonnac\",\n    \"locality\": \"Bordeaux\",\n    \"country\": \"France\",\n    \"postalCode\": \"33000\",\n    \"latitude\": 44.82408,\n    \"longitude\": -0.62295,\n    \"inseeCode\": \"33063\"\n  },\n  \"email\": \"L'email d'une boutique\",\n  \"mobileNumber\": \"0677777777\",\n  \"siret\": \"75409821800029\",\n  \"avatarId\": 1,\n  \"avatarUrl\": \"http://www.image.com/image.jpg\",\n  \"coverId\": 1,\n  \"coverUrl\": \"http://www.image.com/image.jpg\",\n  \"imageIds\": [\n    1,\n    1\n  ],\n  \"imageUrls\": [\n    \"http://www.image.com/image.jpg\",\n    \"http://www.image.com/image.jpg\"\n  ],\n  \"description\": \"La description d'une boutique\",\n  \"baseline\": \"Ma boutique est top\",\n  \"facebookLink\": \"http://www.facebook.com/boutique\",\n  \"instagramLink\": \"http://www.instagram.com/boutique\",\n  \"websiteLink\": \"http://www.boutique.com/\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops","host":["{{baseUrl}}"],"path":["api","v1","auth","shops"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"id\": 1,\n  \"name\": \"Jardin Local\",\n  \"slug\": \"jardin-local\",\n  \"images\": [\n    {\n      \"id\": 42,\n      \"originalUrl\": \"https://path/to/original-image.jpg\",\n      \"miniUrl\": \"https://path/to/mini-format.jpg\",\n      \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n      \"squareUrl\": \"https://path/to/square-format.jpg\",\n      \"wideUrl\": \"https://path/to/wide-format.jpg\",\n      \"defaultUrl\": \"https://path/to/default-image.jpg\"\n    },\n    {\n      \"id\": 42,\n      \"originalUrl\": \"https://path/to/original-image.jpg\",\n      \"miniUrl\": \"https://path/to/mini-format.jpg\",\n      \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n      \"squareUrl\": \"https://path/to/square-format.jpg\",\n      \"wideUrl\": \"https://path/to/wide-format.jpg\",\n      \"defaultUrl\": \"https://path/to/default-image.jpg\"\n    }\n  ],\n  \"avatar\": {\n    \"id\": 42,\n    \"originalUrl\": \"https://path/to/original-image.jpg\",\n    \"miniUrl\": \"https://path/to/mini-format.jpg\",\n    \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n    \"squareUrl\": \"https://path/to/square-format.jpg\",\n    \"wideUrl\": \"https://path/to/wide-format.jpg\",\n    \"defaultUrl\": \"https://path/to/default-image.jpg\"\n  },\n  \"cover\": {\n    \"id\": 42,\n    \"originalUrl\": \"https://path/to/original-image.jpg\",\n    \"miniUrl\": \"https://path/to/mini-format.jpg\",\n    \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n    \"squareUrl\": \"https://path/to/square-format.jpg\",\n    \"wideUrl\": \"https://path/to/wide-format.jpg\",\n    \"defaultUrl\": \"https://path/to/default-image.jpg\"\n  },\n  \"mainImage\": {\n    \"id\": 42,\n    \"originalUrl\": \"https://path/to/original-image.jpg\",\n    \"miniUrl\": \"https://path/to/mini-format.jpg\",\n    \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n    \"squareUrl\": \"https://path/to/square-format.jpg\",\n    \"wideUrl\": \"https://path/to/wide-format.jpg\",\n    \"defaultUrl\": \"https://path/to/default-image.jpg\"\n  },\n  \"description\": \"La description d'une boutique\",\n  \"siret\": \"75409821800029\",\n  \"email\": \"boutique@email.com\",\n  \"mobileNumber\": \"0677777777\",\n  \"baseline\": \"Ma boutique est top\",\n  \"facebookLink\": \"http://www.facebook.com/boutique\",\n  \"instagramLink\": \"http://www.instagram.com/boutique\",\n  \"websiteLink\": \"http://www.boutique.com/\",\n  \"address\": {\n    \"streetNumber\": \"33\",\n    \"route\": \"Rue Georges Bonnac\",\n    \"locality\": \"Bordeaux\",\n    \"country\": \"France\",\n    \"postalCode\": \"33000\",\n    \"latitude\": 44.82408,\n    \"longitude\": -0.62295,\n    \"inseeCode\": \"33063\"\n  },\n  \"webUri\": \"bordeaux/boutique/ma_boutique_slug\",\n  \"lowestProductPrice\": 23.55,\n  \"highestProductPrice\": 150000000,\n  \"holidays\": [\n    {\n      \"id\": 3,\n      \"startAt\": \"27/06/2022\",\n      \"endAt\": \"28/08/2022\",\n      \"isActive\": true,\n      \"shopId\": 33\n    },\n    {\n      \"id\": 3,\n      \"startAt\": \"27/06/2022\",\n      \"endAt\": \"28/08/2022\",\n      \"isActive\": true,\n      \"shopId\": 33\n    }\n  ],\n  \"mart\": {\n    \"id\": 4\n  }\n}"},{"id":"27269300-14cc-475c-a12d-f8630d820f55","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui quis"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"Jardin Local\",\n  \"address\": {\n    \"streetNumber\": \"33\",\n    \"route\": \"Rue Georges Bonnac\",\n    \"locality\": \"Bordeaux\",\n    \"country\": \"France\",\n    \"postalCode\": \"33000\",\n    \"latitude\": 44.82408,\n    \"longitude\": -0.62295,\n    \"inseeCode\": \"33063\"\n  },\n  \"email\": \"L'email d'une boutique\",\n  \"mobileNumber\": \"0677777777\",\n  \"siret\": \"75409821800029\",\n  \"avatarId\": 1,\n  \"avatarUrl\": \"http://www.image.com/image.jpg\",\n  \"coverId\": 1,\n  \"coverUrl\": \"http://www.image.com/image.jpg\",\n  \"imageIds\": [\n    1,\n    1\n  ],\n  \"imageUrls\": [\n    \"http://www.image.com/image.jpg\",\n    \"http://www.image.com/image.jpg\"\n  ],\n  \"description\": \"La description d'une boutique\",\n  \"baseline\": \"Ma boutique est top\",\n  \"facebookLink\": \"http://www.facebook.com/boutique\",\n  \"instagramLink\": \"http://www.instagram.com/boutique\",\n  \"websiteLink\": \"http://www.boutique.com/\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops","host":["{{baseUrl}}"],"path":["api","v1","auth","shops"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"detail\": \"The syntax of the query is incorrect.\",\n  \"message\": \"Bad Request\",\n  \"status\": 400\n}"}]},{"name":"shop informations","event":[{"listen":"test","script":{"id":"70f44f6c-80ba-4228-bbf5-36de24d5972d","exec":["\r","\r","var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 201\", function () {\r","    console.log(pm.request)\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification du contenu de la reponse', function(){\r","    pm.expect(jsonData.id).to.be.a('number');\r","    pm.expect(jsonData.name).not.to.be.null;\r","    pm.expect(jsonData.address.streetNumber).to.be.a('string');\r","    pm.expect(jsonData.address.postalCode).to.be.a('string');\r","    pm.expect(jsonData.address.inseeCode).to.be.a('string');   \r","    pm.expect(jsonData.siret).to.be.a('string'); \r","    pm.expect(jsonData.mobileNumber).to.be.a('string')  \r","});\r","\r","\r","pm.test(\"envoi de l\\'id du shop\", function(){\r","    pm.environment.set(\"CreateShopId\", jsonData.id);\r","    pm.environment.set(\"CreateShopEmail\",jsonData.email );\r","    \r","});"],"type":"text/javascript"}}],"id":"bbb50d61-f3d4-44b1-b618-10d587b25d22","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{BaseUrl}}/{{ShopsSlug}}/api/v1/shops/:id","host":["{{BaseUrl}}"],"path":["{{ShopsSlug}}","api","v1","shops",":id"],"variable":[{"id":"a7e9c75e-5522-4af0-bfdc-45501b7ada24","key":"id","value":"{{CreateShopId}}","description":"(Required) Unique identifier of the desired shop."}]},"description":"Retrieve shop informations"},"response":[{"id":"a6893552-0f71-4481-81c3-a99eb5826e5b","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/shops/:id","host":["{{baseUrl}}"],"path":["api","v1","shops",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"name\": \"Jardin Local\",\n \"slug\": \"jardin-local\",\n \"images\": [\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  },\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  }\n ],\n \"avatar\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"cover\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"description\": \"La description d'une boutique\",\n \"siret\": \"75409821800029\",\n \"email\": \"boutique@email.com\",\n \"mobileNumber\": \"0677777777\",\n \"baseline\": \"Ma boutique est top\",\n \"facebookLink\": \"http://www.facebook.com/boutique\",\n \"instagramLink\": \"http://www.instagram.com/boutique\",\n \"websiteLink\": \"http://www.boutique.com/\",\n \"address\": {\n  \"streetNumber\": \"33\",\n  \"route\": \"Rue Georges Bonnac\",\n  \"locality\": \"Bordeaux\",\n  \"country\": \"France\",\n  \"postalCode\": \"33000\",\n  \"latitude\": 44.82408,\n  \"longitude\": -0.62295,\n  \"inseeCode\": \"33063\"\n },\n \"webUri\": \"bordeaux/boutique/ma_boutique_slug\",\n \"lowestProductPrice\": 23.55,\n \"highestProductPrice\": 150000000\n}"},{"id":"15891fc8-4038-485b-8421-957fa4ba9cc6","name":"Not Modified","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/shops/:id","host":["{{baseUrl}}"],"path":["api","v1","shops",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Not Modified","code":304,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"3b7c0258-3c16-454e-beaa-2af306b7ec3d","name":"Not found","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/shops/:id","host":["{{baseUrl}}"],"path":["api","v1","shops",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Update Shop","event":[{"listen":"test","script":{"id":"bbfad2b8-90a6-4319-8585-56813388abf8","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    \r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification de la prise en compte de la modification',function() {\r","    console.log(pm.request)\r","    pm.expect(jsonData.address.streetNumber).to.eql(\"1\");\r","    pm.expect(jsonData.address.route).to.eql(\"place Martin Bastard\");\r","    pm.expect(jsonData.address.postalCode).to.eql(\"79000\")\r","});\r","/*pm.test('envoi de token pour la création de produit', function(){\r","    pm.environment.set()\r","})*/"],"type":"text/javascript"}}],"id":"5b24e738-f124-471b-b145-71f05d3595e2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"PATCH","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CreateShoptoken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"QA shop Test\",\n    \"address\": {\n        \"streetNumber\": \"1\",\n        \"route\": \"place Martin Bastard\",\n        \"locality\": \"Niort\",\n        \"country\": \"France\",\n        \"postalCode\": \"79000\",\n        \"latitude\": 44.82408,\n        \"longitude\": -0.62295,\n        \"inseeCode\": \"33063\"\n    }\n    \n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{ShopsSlug}}/api/v1/auth/shops/:id","host":["{{BaseUrl}}"],"path":["{{ShopsSlug}}","api","v1","auth","shops",":id"],"variable":[{"key":"id","value":"{{CreateShopId}}","description":"(Required) Unique identifier of the desired shop."}]},"description":"Update a shop"},"response":[{"id":"d3b09b20-a0b4-46e9-ba91-358e742bfe7a","name":"Succesful","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Jardin Local\",\n    \"address\": {\n        \"streetNumber\": \"33\",\n        \"route\": \"Rue Georges Bonnac\",\n        \"locality\": \"Bordeaux\",\n        \"country\": \"France\",\n        \"postalCode\": \"33000\",\n        \"latitude\": 44.82408,\n        \"longitude\": -0.62295,\n        \"inseeCode\": \"33063\"\n    },\n    \"email\": \"L'email d'une boutique\",\n    \"mobileNumber\": \"0677777777\",\n    \"siret\": \"75409821800029\",\n    \"avatarId\": 1,\n    \"avatarUrl\": \"http://www.image.com/image.jpg\",\n    \"coverId\": 1,\n    \"coverUrl\": \"http://www.image.com/image.jpg\",\n    \"imageIds\": [\n        1,\n        1\n    ],\n    \"imageUrls\": [\n        \"http://www.image.com/image.jpg\",\n        \"http://www.image.com/image.jpg\"\n    ],\n    \"description\": \"La description d'une boutique\",\n    \"baseline\": \"Ma boutique est top\",\n    \"facebookLink\": \"http://www.facebook.com/boutique\",\n    \"instagramLink\": \"http://www.instagram.com/boutique\",\n    \"websiteLink\": \"http://www.boutique.com/\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"name\": \"Jardin Local\",\n \"slug\": \"jardin-local\",\n \"images\": [\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  },\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  }\n ],\n \"avatar\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"cover\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"description\": \"La description d'une boutique\",\n \"siret\": \"75409821800029\",\n \"email\": \"boutique@email.com\",\n \"mobileNumber\": \"0677777777\",\n \"baseline\": \"Ma boutique est top\",\n \"facebookLink\": \"http://www.facebook.com/boutique\",\n \"instagramLink\": \"http://www.instagram.com/boutique\",\n \"websiteLink\": \"http://www.boutique.com/\",\n \"address\": {\n  \"streetNumber\": \"33\",\n  \"route\": \"Rue Georges Bonnac\",\n  \"locality\": \"Bordeaux\",\n  \"country\": \"France\",\n  \"postalCode\": \"33000\",\n  \"latitude\": 44.82408,\n  \"longitude\": -0.62295,\n  \"inseeCode\": \"33063\"\n },\n \"webUri\": \"bordeaux/boutique/ma_boutique_slug\",\n \"lowestProductPrice\": 23.55,\n \"highestProductPrice\": 150000000\n}"},{"id":"916b0afe-bd39-412a-94bc-ca4df7d8ed7a","name":"Bad request","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Jardin Local\",\n    \"address\": {\n        \"streetNumber\": \"33\",\n        \"route\": \"Rue Georges Bonnac\",\n        \"locality\": \"Bordeaux\",\n        \"country\": \"France\",\n        \"postalCode\": \"33000\",\n        \"latitude\": 44.82408,\n        \"longitude\": -0.62295,\n        \"inseeCode\": \"33063\"\n    },\n    \"email\": \"L'email d'une boutique\",\n    \"mobileNumber\": \"0677777777\",\n    \"siret\": \"75409821800029\",\n    \"avatarId\": 1,\n    \"avatarUrl\": \"http://www.image.com/image.jpg\",\n    \"coverId\": 1,\n    \"coverUrl\": \"http://www.image.com/image.jpg\",\n    \"imageIds\": [\n        1,\n        1\n    ],\n    \"imageUrls\": [\n        \"http://www.image.com/image.jpg\",\n        \"http://www.image.com/image.jpg\"\n    ],\n    \"description\": \"La description d'une boutique\",\n    \"baseline\": \"Ma boutique est top\",\n    \"facebookLink\": \"http://www.facebook.com/boutique\",\n    \"instagramLink\": \"http://www.instagram.com/boutique\",\n    \"websiteLink\": \"http://www.boutique.com/\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"}]},{"name":"Create a product for a shop","event":[{"listen":"prerequest","script":{"id":"eb1e7f9f-cffc-4525-93b6-48235e6f1944","exec":["let date = Date.now()\r","let name = \"product\" + \" \" + date;\r","pm.environment.set('NameProduct', name)"],"type":"text/javascript"}},{"listen":"test","script":{"id":"23617f1d-69e0-4027-9533-0a83ce7c38c2","exec":["\r","var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(202);\r","});\r","\r","pm.test('verification de la presence de l\\'url', function () {\r","    pm.expect(jsonData).to.have.property('url');\r","    pm.expect(jsonData.url).to.be.a(\"string\");\r","    pm.expect(jsonData.url).to.not.eql('null');\r","})"],"type":"text/javascript"}}],"id":"546ccc93-b940-49f4-9a76-bfc696daeb16","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"key","value":"Authorization","type":"string"},{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"key":"X-client-id","value":"{{CreateShoptoken}}","type":"text"},{"key":"Content-Type","value":"application/json","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"name\": \"{{NameProduct}}\",\r\n  \"description\": \"Ben\",\r\n  \"brand\": \"\",\r\n  \"status\": \"online\",\r\n  \"sellerAdvice\": \"\",\r\n  \"isService\": false,\r\n  \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\r\n  \"categoryId\": {{CategoryId}},\r\n  \"shopId\": {{CreateShopId}},\r\n  \"variants\": [\r\n    {\r\n      \"basePrice\": 25,\r\n      \"weight\": 0.56,\r\n      \"quantity\":20,\r\n      \"isDefault\": true,\r\n      \r\n      \"imageUrls\": [\r\n        \"https://photos.gammvert.fr/v5/products/full/17030-abri-de-jardin-bois-flodova-675-m2-ep28-mm-9.jpg\"\r\n      ],\r\n      \"goodDeal\": {\r\n        \"startAt\": \"20/07/2021\",\r\n        \"endAt\": \"27/07/2021\",\r\n        \"discount\": 45\r\n      },\r\n      \"characteristics\": [\r\n        {\r\n          \"name\": \"color\",\r\n          \"value\": \"Bleu\"\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  \"origin\": \"France\",\r\n  \"allergens\": \"Contient des traces de fruit à coques\",\r\n  \"composition\": \"Oeuf, sucre\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/shops/self/products","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","shops","self","products"],"query":[{"key":"","value":null,"type":"text","disabled":true}]}},"response":[]},{"name":"Retrieve products' shop","event":[{"listen":"test","script":{"id":"5d3fa704-c2ae-41bd-b765-883f0d0e16a0","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","pm.test('verification du contenu de la reponse', function (){\r","    pm.expect(jsonData.products[0].id).to.be.a('number');\r","    pm.expect(jsonData.products[0]).to.have.property('name');\r","    pm.expect(jsonData.products[0].name).to.not.eql('null');\r","    pm.expect(jsonData.products[0].category).to.have.property('id');\r","    pm.expect(jsonData.products[0].category).to.have.property('type');\r","    pm.expect(jsonData.products[0].category.name).to.not.eql('null');\r","    pm.expect(jsonData.products[0]).to.have.property('variants');\r","    pm.expect(jsonData.products[0].variants[0].id).to.be.a('number');\r","    pm.expect(jsonData.products[0].variants[0].basePrice).to.be.a('number');\r","    pm.expect(jsonData.products[0].variants[0].quantity).to.not.be.eql('null');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('id');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('originalUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('miniUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('thumbUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('squareUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('wideUrl')\r","    \r","});\r","pm.test('envoi des variables CategoryId et ProductId', function(){\r","    \r","    pm.environment.set(\"CreateProductId\", jsonData.products[0].id );\r","    pm.environment.set(\"CreateCategoryId\", jsonData.products[0].category.id);\r","    pm.environment.set(\"CreateVariantId\", jsonData.products[0].variants[0].id)\r","});"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"c08c6bfc-ad86-4c12-8851-55011f997d7e","exec":["setTimeout(function(){}, 2000);"],"type":"text/javascript"}}],"id":"0a89ea15-00bb-4682-96aa-3fb6bed81ca8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CreateShoptoken}}"},{"key":"","value":"106825","type":"text","disabled":true}],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/shops/self/products","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online","disabled":true},{"key":"name","value":"verre","disabled":true},{"key":"category","value":"","disabled":true},{"key":"page","value":"","description":"Set as 1 if not set","disabled":true},{"key":"limit","value":"","description":"Set as 15 if not set","disabled":true},{"key":"sortBy","value":"created_at_desc","disabled":true}]}},"response":[{"id":"49eb5f89-0b19-4b4b-a842-91b1e7a8fdd8","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"products\": [\n  {\n   \"id\": 1,\n   \"name\": \"Air jordan\",\n   \"description\": \"Chaussures trop bien\",\n   \"brand\": \"Nike\",\n   \"status\": \"online\",\n   \"shopId\": 1,\n   \"shopName\": \"Ma super boutique\",\n   \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n   \"isService\": false,\n   \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n   \"category\": {\n    \"id\": -79675689,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": true,\n    \"children\": [\n     {\n      \"id\": 24164586,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     },\n     {\n      \"id\": 15476807,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     }\n    ]\n   },\n   \"citizen\": {\n    \"id\": 15,\n    \"nickName\": \"nick name\"\n   },\n   \"variants\": [\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"2000-09-24\",\n      \"endAt\": \"1961-05-08\",\n      \"discount\": 90,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    },\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1968-02-03\",\n      \"endAt\": \"1996-09-17\",\n      \"discount\": 28,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    }\n   ],\n   \"origin\": \"France\",\n   \"allergens\": \"Contient des traces de fruit à coques\",\n   \"composition\": \"Oeuf, sucre\",\n   \"provider\": {\n    \"externalProductId\": \"33ur\",\n    \"name\": \"wynd\"\n   },\n   \"createdAt\": \"tempor enim ipsum et\",\n   \"updatedAt\": \"et irure qui laboris\"\n  },\n  {\n   \"id\": 1,\n   \"name\": \"Air jordan\",\n   \"description\": \"Chaussures trop bien\",\n   \"brand\": \"Nike\",\n   \"status\": \"online\",\n   \"shopId\": 1,\n   \"shopName\": \"Ma super boutique\",\n   \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n   \"isService\": false,\n   \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n   \"category\": {\n    \"id\": 35589075,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": false,\n    \"children\": [\n     {\n      \"id\": -94970569,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     },\n     {\n      \"id\": 43093137,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": true\n     }\n    ]\n   },\n   \"citizen\": {\n    \"id\": 15,\n    \"nickName\": \"nick name\"\n   },\n   \"variants\": [\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1988-02-03\",\n      \"endAt\": \"1970-04-04\",\n      \"discount\": 1,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    },\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1990-07-19\",\n      \"endAt\": \"1961-03-05\",\n      \"discount\": 65,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    }\n   ],\n   \"origin\": \"France\",\n   \"allergens\": \"Contient des traces de fruit à coques\",\n   \"composition\": \"Oeuf, sucre\",\n   \"provider\": {\n    \"externalProductId\": \"33ur\",\n    \"name\": \"wynd\"\n   },\n   \"createdAt\": \"laborum est ex\",\n   \"updatedAt\": \"ut ut\"\n  }\n ],\n \"page\": 1,\n \"totalPages\": 1,\n \"totalCount\": 1\n}"},{"id":"b7e05e3f-8533-41cb-9b46-80c41ab04770","name":"Bad request","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"075519f4-0726-453e-b8f8-6f70aec50f4b","name":"Unauthorized","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"f0b9af83-5833-499c-a9af-0a140c0d15ab","name":"Forbidden","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"}]},{"name":"Update a product","event":[{"listen":"test","script":{"id":"8e27888e-94bc-47cb-aa7b-b9fec8c42ad6","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification de la prise en compte des modifs', function () {\r","    pm.expect(jsonData.name).to.eql('Abri de jardin en bois');\r","    pm.expect(jsonData.description).to.eql('Nico il faut arreter la weed');\r","    pm.expect(jsonData.category).to.have.property('type');\r","    pm.expect(jsonData).have.property('origin');\r","})"],"type":"text/javascript"}}],"id":"aebf71a8-5a35-4dab-a2a3-5809dafb3d55","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"PATCH","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CreateShoptoken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Abri de jardin en bois\",\n    \"description\": \"Nico il faut arreter la weed\",\n    \"status\": \"online\",\n    \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n    \"isService\": false,\n    \"categoryId\": {{CreateCategoryId}},\n    \"variants\": [\n        {\n            \"id\": {{CreateVariantId}},\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            /*\"imageIds\": [\n                234,\n                45566,\n                345\n            ],*/\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        }\n        \n    ],\n    \"origin\": \"France\",\n    \"allergens\": \"Contient des traces de fruit à coques\",\n    \"composition\": \"Oeuf, sucre\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/shops/self/products/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","shops","self","products",":id"],"variable":[{"key":"id","value":"{{CreateProductId}}","description":"(Required) "}]}},"response":[{"id":"b5789b8b-c86a-45c3-824a-69d71c3cc642","name":"Successful","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Air jordan\",\n    \"description\": \"Chaussures trop bien\",\n    \"brand\": \"Nike\",\n    \"status\": \"online\",\n    \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n    \"isService\": false,\n    \"categoryId\": 43997743,\n    \"variants\": [\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        },\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        }\n    ],\n    \"origin\": \"France\",\n    \"allergens\": \"Contient des traces de fruit à coques\",\n    \"composition\": \"Oeuf, sucre\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) "}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"name\": \"Air jordan\",\n \"description\": \"Chaussures trop bien\",\n \"brand\": \"Nike\",\n \"status\": \"online\",\n \"shopId\": 1,\n \"shopName\": \"Ma super boutique\",\n \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n \"isService\": false,\n \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n \"category\": {\n  \"id\": 30857475,\n  \"name\": \"Non classée\",\n  \"slug\": \"non_classée\",\n  \"hasChildren\": false,\n  \"children\": [\n   {\n    \"id\": 14316011,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": false\n   },\n   {\n    \"id\": 97705886,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": false\n   }\n  ]\n },\n \"citizen\": {\n  \"id\": 15,\n  \"nickName\": \"nick name\"\n },\n \"variants\": [\n  {\n   \"id\": 1,\n   \"basePrice\": 20.5,\n   \"weight\": 20.5,\n   \"quantity\": 20,\n   \"images\": [\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    },\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    }\n   ],\n   \"isDefault\": false,\n   \"goodDeal\": {\n    \"startAt\": \"1992-10-08\",\n    \"endAt\": \"1961-08-20\",\n    \"discount\": 38,\n    \"discountedPrice\": 15.9\n   },\n   \"characteristics\": [\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    },\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    }\n   ],\n   \"provider\": {\n    \"name\": \"wynd\",\n    \"externalVariantId\": \"67ty7\"\n   }\n  },\n  {\n   \"id\": 1,\n   \"basePrice\": 20.5,\n   \"weight\": 20.5,\n   \"quantity\": 20,\n   \"images\": [\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    },\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    }\n   ],\n   \"isDefault\": false,\n   \"goodDeal\": {\n    \"startAt\": \"1958-08-26\",\n    \"endAt\": \"2000-08-19\",\n    \"discount\": 63,\n    \"discountedPrice\": 15.9\n   },\n   \"characteristics\": [\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    },\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    }\n   ],\n   \"provider\": {\n    \"name\": \"wynd\",\n    \"externalVariantId\": \"67ty7\"\n   }\n  }\n ],\n \"origin\": \"France\",\n \"allergens\": \"Contient des traces de fruit à coques\",\n \"composition\": \"Oeuf, sucre\",\n \"provider\": {\n  \"externalProductId\": \"33ur\",\n  \"name\": \"wynd\"\n },\n \"createdAt\": \"eu nostrud magna\",\n \"updatedAt\": \"veniam cillum Lore\"\n}"},{"id":"8fe10f78-3351-49f8-9515-17b0bc7f5124","name":"Bad request","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Air jordan\",\n    \"description\": \"Chaussures trop bien\",\n    \"brand\": \"Nike\",\n    \"status\": \"online\",\n    \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n    \"isService\": false,\n    \"categoryId\": 43997743,\n    \"variants\": [\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        },\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        }\n    ],\n    \"origin\": \"France\",\n    \"allergens\": \"Contient des traces de fruit à coques\",\n    \"composition\": \"Oeuf, sucre\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) "}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"af8b62bf-fb73-479d-b178-8beef048d1c1","name":"Unauthorized","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Air jordan\",\n    \"description\": \"Chaussures trop bien\",\n    \"brand\": \"Nike\",\n    \"status\": \"online\",\n    \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n    \"isService\": false,\n    \"categoryId\": 43997743,\n    \"variants\": [\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        },\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        }\n    ],\n    \"origin\": \"France\",\n    \"allergens\": \"Contient des traces de fruit à coques\",\n    \"composition\": \"Oeuf, sucre\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) "}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"1ddee925-8796-4fc7-a65d-02caf0b295c1","name":"Forbidden","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Air jordan\",\n    \"description\": \"Chaussures trop bien\",\n    \"brand\": \"Nike\",\n    \"status\": \"online\",\n    \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n    \"isService\": false,\n    \"categoryId\": 43997743,\n    \"variants\": [\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        },\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        }\n    ],\n    \"origin\": \"France\",\n    \"allergens\": \"Contient des traces de fruit à coques\",\n    \"composition\": \"Oeuf, sucre\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) "}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"546662c0-7fb9-4ab1-bf7a-e4374fff0e77","name":"Not found","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"Air jordan\",\n    \"description\": \"Chaussures trop bien\",\n    \"brand\": \"Nike\",\n    \"status\": \"online\",\n    \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n    \"isService\": false,\n    \"categoryId\": 43997743,\n    \"variants\": [\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        },\n        {\n            \"id\": 67,\n            \"basePrice\": 44.99,\n            \"weight\": 0.56,\n            \"quantity\": 9,\n            \"isDefault\": true,\n            \"imageIds\": [\n                234,\n                45566,\n                345\n            ],\n            \"imageUrls\": [\n                \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n                \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n            ],\n            \"goodDeal\": {\n                \"startAt\": \"20/07/2021\",\n                \"endAt\": \"27/07/2021\",\n                \"discount\": 45\n            },\n            \"characteristics\": [\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                },\n                {\n                    \"name\": \"color\",\n                    \"value\": \"Bleu\"\n                }\n            ]\n        }\n    ],\n    \"origin\": \"France\",\n    \"allergens\": \"Contient des traces de fruit à coques\",\n    \"composition\": \"Oeuf, sucre\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products",":id"],"variable":[{"key":"id","value":"qui","description":"(Required) "}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Create a variant for a product","event":[{"listen":"test","script":{"id":"db7596e8-336f-4933-9f3e-2b4d59778b2d","exec":["var jsonData = pm.response.json();\r","\r","\r","pm.test(\"Status code is 201\", function () {\r","    console.log(pm.request)\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test('verification du contenu de la reponse', function(){\r","    pm.expect(jsonData.id).to.be.a('number');\r","    pm.expect(jsonData.basePrice).to.not.eql('null');\r","    pm.expect(jsonData.quantity).to.not.eql('null');\r","    pm.expect(jsonData).to.have.property('weight');\r","   \r","})\r","\r","pm.test('envoi du variant pour modification', function () {\r","    pm.environment.set('VariantUpdate', jsonData.id);\r","})"],"type":"text/javascript"}}],"id":"72b5de32-51b2-4849-900e-2d7be783230d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CreateShoptoken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"basePrice\": 44.99,\n    \"weight\": 0.56,\n    \"quantity\": 9,\n    \"isDefault\": true,\n    \"characteristics\": [\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        },\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        }\n    ],\n    /*\"imageIds\": [\n        234,\n        45566,\n        345\n    ],\n    \"imageUrls\": [\n        \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n        \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n    ],\n    \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n    },*/\n    \"externalVariantId\": \"67ty7\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/products/:id/variants","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","products",":id","variants"],"variable":[{"key":"id","value":"{{CreateProductId}}"}]},"description":"Create a variant for a product."},"response":[{"id":"7ac34808-fcfd-4389-b39a-f4787223f327","name":"Succesfull","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"basePrice\": 44.99,\n    \"weight\": 0.56,\n    \"quantity\": 9,\n    \"isDefault\": true,\n    \"characteristics\": [\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        },\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        }\n    ],\n    \"imageIds\": [\n        234,\n        45566,\n        345\n    ],\n    \"imageUrls\": [\n        \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n        \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n    ],\n    \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n    },\n    \"externalVariantId\": \"67ty7\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/products/:id/variants","host":["{{baseUrl}}"],"path":["api","v1","auth","products",":id","variants"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"basePrice\": 20.5,\n \"weight\": 20.5,\n \"quantity\": 20,\n \"images\": [\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  },\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  }\n ],\n \"isDefault\": false,\n \"goodDeal\": {\n  \"startAt\": \"1999-05-28\",\n  \"endAt\": \"1953-01-01\",\n  \"discount\": 92,\n  \"discountedPrice\": 15.9\n },\n \"characteristics\": [\n  {\n   \"name\": \"color\",\n   \"value\": \"blue\"\n  },\n  {\n   \"name\": \"color\",\n   \"value\": \"blue\"\n  }\n ],\n \"provider\": {\n  \"name\": \"wynd\",\n  \"externalVariantId\": \"67ty7\"\n }\n}"},{"id":"9053beb6-1c0d-4988-92b0-053ea782b043","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"basePrice\": 44.99,\n    \"weight\": 0.56,\n    \"quantity\": 9,\n    \"isDefault\": true,\n    \"characteristics\": [\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        },\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        }\n    ],\n    \"imageIds\": [\n        234,\n        45566,\n        345\n    ],\n    \"imageUrls\": [\n        \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n        \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n    ],\n    \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n    },\n    \"externalVariantId\": \"67ty7\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/products/:id/variants","host":["{{baseUrl}}"],"path":["api","v1","auth","products",":id","variants"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"3839d511-825f-41cc-9a04-ebd57edddfef","name":"Unauthorized","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"basePrice\": 44.99,\n    \"weight\": 0.56,\n    \"quantity\": 9,\n    \"isDefault\": true,\n    \"characteristics\": [\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        },\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        }\n    ],\n    \"imageIds\": [\n        234,\n        45566,\n        345\n    ],\n    \"imageUrls\": [\n        \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n        \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n    ],\n    \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n    },\n    \"externalVariantId\": \"67ty7\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/products/:id/variants","host":["{{baseUrl}}"],"path":["api","v1","auth","products",":id","variants"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"98697de1-6e6a-4658-b4d1-52e54c3089d5","name":"Forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"basePrice\": 44.99,\n    \"weight\": 0.56,\n    \"quantity\": 9,\n    \"isDefault\": true,\n    \"characteristics\": [\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        },\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        }\n    ],\n    \"imageIds\": [\n        234,\n        45566,\n        345\n    ],\n    \"imageUrls\": [\n        \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n        \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n    ],\n    \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n    },\n    \"externalVariantId\": \"67ty7\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/products/:id/variants","host":["{{baseUrl}}"],"path":["api","v1","auth","products",":id","variants"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"1b4f5248-6d92-49da-9139-6a9cea27bddb","name":"Not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"basePrice\": 44.99,\n    \"weight\": 0.56,\n    \"quantity\": 9,\n    \"isDefault\": true,\n    \"characteristics\": [\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        },\n        {\n            \"name\": \"color\",\n            \"value\": \"Bleu\"\n        }\n    ],\n    \"imageIds\": [\n        234,\n        45566,\n        345\n    ],\n    \"imageUrls\": [\n        \"https://static.wikia.nocookie.net/charabattles/images/e/eb/Chuck_norris.jpg/revision/latest?cb=20170412123612&path-prefix=fr\",\n        \"https://leserigraphe.com/wp-content/uploads/2019/10/Walker-Texas-Ranger.jpg\"\n    ],\n    \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n    },\n    \"externalVariantId\": \"67ty7\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/products/:id/variants","host":["{{baseUrl}}"],"path":["api","v1","auth","products",":id","variants"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Update a variant","event":[{"listen":"test","script":{"id":"ffdd5d82-67d2-4405-8e80-ea1b120b9d9a","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});"],"type":"text/javascript"}}],"id":"48efdeea-739b-437f-9d93-f684ec650482","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"PATCH","header":[{"description":"(Required) ","key":"x-client-id","value":"{{CreateShoptoken}}"},{"key":"Content-Type","value":"multipart/form-data"}],"body":{"mode":"raw","raw":"{\r\n    \"id\": \"{{VariantUpdate}}\",\r\n    \"basePrice\": 20,\r\n    \"weight\": 0.56,\r\n    \"quantity\": 9,\r\n    \"images\": [],\r\n    \"isDefault\": true,\r\n    \"goodDeal\": null,\r\n    \"characteristics\": [],\r\n    \"provider\": {\r\n        \"name\": null,\r\n        \"externalVariantId\": null\r\n    }\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/variants/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","variants",":id"],"variable":[{"key":"id","value":"{{VariantUpdate}}","description":"(Required) Unique identifier of the variant of a product."}]},"description":"Return the variant updated"},"response":[{"id":"1ada3372-bb6e-4783-b611-8a6ebf1050f0","name":"Successful","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"x-client-id","value":"qui"}],"body":{"mode":"formdata","formdata":[{"description":"Price of product's variant","key":"basePrice","value":"44.99","type":"text"},{"description":"Weight of product's variant (in Kg)","key":"weight","value":"0.56","type":"text"},{"description":"Stock of product's variant","key":"quantity","value":"9","type":"text"},{"description":"Tell if this variant is the product's default variant","key":"isDefault","value":"true","type":"text"},{"description":"Set a good deal for the variant","key":"goodDeal","value":"{\"startAt\":\"20/07/2021\",\"endAt\":\"27/07/2021\",\"discount\":45}","type":"text"},{"description":"Set the characteristics of variant (Set as an array)","key":"characteristics","value":"{\"name\":\"color\",\"value\":\"Bleu\"}","type":"text"},{"description":"Variant's pictures","key":"files[]","value":"[\"ad dolor voluptate\",\"cupidatat exercitation labore\"]","type":"text"}]},"url":{"raw":"{{baseUrl}}/api/v1/auth/variants/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","variants",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the variant of a product."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"basePrice\": 20.5,\n \"weight\": 20.5,\n \"quantity\": 20,\n \"images\": [\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  },\n  {\n   \"id\": 42,\n   \"originalUrl\": \"https://path/to/original-image.jpg\",\n   \"miniUrl\": \"https://path/to/mini-format.jpg\",\n   \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n   \"squareUrl\": \"https://path/to/square-format.jpg\",\n   \"wideUrl\": \"https://path/to/wide-format.jpg\"\n  }\n ],\n \"isDefault\": false,\n \"goodDeal\": {\n  \"startAt\": \"2021-04-01\",\n  \"endAt\": \"1960-02-26\",\n  \"discount\": 63,\n  \"discountedPrice\": 15.9\n },\n \"characteristics\": [\n  {\n   \"name\": \"color\",\n   \"value\": \"blue\"\n  },\n  {\n   \"name\": \"color\",\n   \"value\": \"blue\"\n  }\n ],\n \"provider\": {\n  \"name\": \"wynd\",\n  \"externalVariantId\": \"67ty7\"\n }\n}"},{"id":"14b672e7-3781-4c04-9563-390a67a8c8fe","name":"Bad Request","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"x-client-id","value":"qui"}],"body":{"mode":"formdata","formdata":[{"description":"Price of product's variant","key":"basePrice","value":"44.99","type":"text"},{"description":"Weight of product's variant (in Kg)","key":"weight","value":"0.56","type":"text"},{"description":"Stock of product's variant","key":"quantity","value":"9","type":"text"},{"description":"Tell if this variant is the product's default variant","key":"isDefault","value":"true","type":"text"},{"description":"Set a good deal for the variant","key":"goodDeal","value":"{\"startAt\":\"20/07/2021\",\"endAt\":\"27/07/2021\",\"discount\":45}","type":"text"},{"description":"Set the characteristics of variant (Set as an array)","key":"characteristics","value":"{\"name\":\"color\",\"value\":\"Bleu\"}","type":"text"},{"description":"Variant's pictures","key":"files[]","value":"[\"ad dolor voluptate\",\"cupidatat exercitation labore\"]","type":"text"}]},"url":{"raw":"{{baseUrl}}/api/v1/auth/variants/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","variants",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the variant of a product."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"d2a65f1f-a468-4dd6-af49-a2c077f8e9d5","name":"Unauthorized","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"x-client-id","value":"qui"}],"body":{"mode":"formdata","formdata":[{"description":"Price of product's variant","key":"basePrice","value":"44.99","type":"text"},{"description":"Weight of product's variant (in Kg)","key":"weight","value":"0.56","type":"text"},{"description":"Stock of product's variant","key":"quantity","value":"9","type":"text"},{"description":"Tell if this variant is the product's default variant","key":"isDefault","value":"true","type":"text"},{"description":"Set a good deal for the variant","key":"goodDeal","value":"{\"startAt\":\"20/07/2021\",\"endAt\":\"27/07/2021\",\"discount\":45}","type":"text"},{"description":"Set the characteristics of variant (Set as an array)","key":"characteristics","value":"{\"name\":\"color\",\"value\":\"Bleu\"}","type":"text"},{"description":"Variant's pictures","key":"files[]","value":"[\"ad dolor voluptate\",\"cupidatat exercitation labore\"]","type":"text"}]},"url":{"raw":"{{baseUrl}}/api/v1/auth/variants/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","variants",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the variant of a product."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"7e3c21d3-69a1-4b27-b6ca-11a8a4186c50","name":"Forbidden","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"x-client-id","value":"qui"}],"body":{"mode":"formdata","formdata":[{"description":"Price of product's variant","key":"basePrice","value":"44.99","type":"text"},{"description":"Weight of product's variant (in Kg)","key":"weight","value":"0.56","type":"text"},{"description":"Stock of product's variant","key":"quantity","value":"9","type":"text"},{"description":"Tell if this variant is the product's default variant","key":"isDefault","value":"true","type":"text"},{"description":"Set a good deal for the variant","key":"goodDeal","value":"{\"startAt\":\"20/07/2021\",\"endAt\":\"27/07/2021\",\"discount\":45}","type":"text"},{"description":"Set the characteristics of variant (Set as an array)","key":"characteristics","value":"{\"name\":\"color\",\"value\":\"Bleu\"}","type":"text"},{"description":"Variant's pictures","key":"files[]","value":"[\"ad dolor voluptate\",\"cupidatat exercitation labore\"]","type":"text"}]},"url":{"raw":"{{baseUrl}}/api/v1/auth/variants/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","variants",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the variant of a product."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"c50bdf2a-699a-4698-82cd-3f2670d1b082","name":"Not Found","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"x-client-id","value":"qui"}],"body":{"mode":"formdata","formdata":[{"description":"Price of product's variant","key":"basePrice","value":"44.99","type":"text"},{"description":"Weight of product's variant (in Kg)","key":"weight","value":"0.56","type":"text"},{"description":"Stock of product's variant","key":"quantity","value":"9","type":"text"},{"description":"Tell if this variant is the product's default variant","key":"isDefault","value":"true","type":"text"},{"description":"Set a good deal for the variant","key":"goodDeal","value":"{\"startAt\":\"20/07/2021\",\"endAt\":\"27/07/2021\",\"discount\":45}","type":"text"},{"description":"Set the characteristics of variant (Set as an array)","key":"characteristics","value":"{\"name\":\"color\",\"value\":\"Bleu\"}","type":"text"},{"description":"Variant's pictures","key":"files[]","value":"[\"ad dolor voluptate\",\"cupidatat exercitation labore\"]","type":"text"}]},"url":{"raw":"{{baseUrl}}/api/v1/auth/variants/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","variants",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the variant of a product."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Retrieve products' shop","event":[{"listen":"test","script":{"id":"5d3fa704-c2ae-41bd-b765-883f0d0e16a0","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","pm.test('verification du contenu de la reponse', function (){\r","    pm.expect(jsonData.products[0].id).to.be.a('number');\r","    pm.expect(jsonData.products[0]).to.have.property('name');\r","    pm.expect(jsonData.products[0].name).to.not.eql('null');\r","    pm.expect(jsonData.products[0].category).to.have.property('id');\r","    pm.expect(jsonData.products[0].category.name).to.not.eql('null');\r","    pm.expect(jsonData.products[0]).to.have.property('variants');\r","    pm.expect(jsonData.products[0].variants[0].id).to.be.a('number');\r","    pm.expect(jsonData.products[0].variants[0].basePrice).to.be.a('number');\r","    pm.expect(jsonData.products[0].variants[0].quantity).to.not.be.eql('null');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('id');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('originalUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('miniUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('thumbUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('squareUrl');\r","    pm.expect(jsonData.products[0].variants[0].images[0]).to.have.property('wideUrl');\r","    \r","});\r","pm.test('envoi des variables CategoryId et ProductId', function(){\r","    \r","    pm.environment.set(\"ProductId\", jsonData.products[0].id );\r","    pm.environment.set(\"CategoryId\", jsonData.products[0].category.id);\r","    pm.environment.set(\"VariantId\", jsonData.products[0].variants[0].id)\r","});"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"37370dda-1474-4cde-aed5-ca818c5d9c4a","exec":["setTimeout(function(){}, 2000);"],"type":"text/javascript"}}],"id":"efb2bba5-bc56-4599-bd57-9bb210ec5ca8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CreateShoptoken}}"},{"key":"","value":"106825","type":"text","disabled":true}],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/shops/self/products","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online","disabled":true},{"key":"name","value":"verre","disabled":true},{"key":"category","value":"","disabled":true},{"key":"page","value":"","description":"Set as 1 if not set","disabled":true},{"key":"limit","value":"","description":"Set as 15 if not set","disabled":true},{"key":"sortBy","value":"created_at_desc","disabled":true}]}},"response":[{"id":"1107a28e-e903-4005-b594-bee9fcfe2d5a","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"products\": [\n  {\n   \"id\": 1,\n   \"name\": \"Air jordan\",\n   \"description\": \"Chaussures trop bien\",\n   \"brand\": \"Nike\",\n   \"status\": \"online\",\n   \"shopId\": 1,\n   \"shopName\": \"Ma super boutique\",\n   \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n   \"isService\": false,\n   \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n   \"category\": {\n    \"id\": -79675689,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": true,\n    \"children\": [\n     {\n      \"id\": 24164586,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     },\n     {\n      \"id\": 15476807,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     }\n    ]\n   },\n   \"citizen\": {\n    \"id\": 15,\n    \"nickName\": \"nick name\"\n   },\n   \"variants\": [\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"2000-09-24\",\n      \"endAt\": \"1961-05-08\",\n      \"discount\": 90,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    },\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1968-02-03\",\n      \"endAt\": \"1996-09-17\",\n      \"discount\": 28,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    }\n   ],\n   \"origin\": \"France\",\n   \"allergens\": \"Contient des traces de fruit à coques\",\n   \"composition\": \"Oeuf, sucre\",\n   \"provider\": {\n    \"externalProductId\": \"33ur\",\n    \"name\": \"wynd\"\n   },\n   \"createdAt\": \"tempor enim ipsum et\",\n   \"updatedAt\": \"et irure qui laboris\"\n  },\n  {\n   \"id\": 1,\n   \"name\": \"Air jordan\",\n   \"description\": \"Chaussures trop bien\",\n   \"brand\": \"Nike\",\n   \"status\": \"online\",\n   \"shopId\": 1,\n   \"shopName\": \"Ma super boutique\",\n   \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n   \"isService\": false,\n   \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n   \"category\": {\n    \"id\": 35589075,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": false,\n    \"children\": [\n     {\n      \"id\": -94970569,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     },\n     {\n      \"id\": 43093137,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": true\n     }\n    ]\n   },\n   \"citizen\": {\n    \"id\": 15,\n    \"nickName\": \"nick name\"\n   },\n   \"variants\": [\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1988-02-03\",\n      \"endAt\": \"1970-04-04\",\n      \"discount\": 1,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    },\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1990-07-19\",\n      \"endAt\": \"1961-03-05\",\n      \"discount\": 65,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    }\n   ],\n   \"origin\": \"France\",\n   \"allergens\": \"Contient des traces de fruit à coques\",\n   \"composition\": \"Oeuf, sucre\",\n   \"provider\": {\n    \"externalProductId\": \"33ur\",\n    \"name\": \"wynd\"\n   },\n   \"createdAt\": \"laborum est ex\",\n   \"updatedAt\": \"ut ut\"\n  }\n ],\n \"page\": 1,\n \"totalPages\": 1,\n \"totalCount\": 1\n}"},{"id":"980ab1a9-0968-49c6-a53d-37000d3a169c","name":"Bad request","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"2f2dbc5b-562a-449a-8a7e-141ad80847fe","name":"Unauthorized","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"2c2067e8-1200-44c9-94bb-b1d35094edc9","name":"Forbidden","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/self/products?status=online&name=&category=&page=&limit=&sortBy=created_at_asc","host":["{{baseUrl}}"],"path":["api","v1","auth","shops","self","products"],"query":[{"key":"status","value":"online"},{"key":"name","value":""},{"key":"category","value":""},{"key":"page","value":""},{"key":"limit","value":""},{"key":"sortBy","value":"created_at_asc"}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"}]},{"name":"Retrieve a product","event":[{"listen":"test","script":{"id":"5e9b5ae7-a4cd-41f7-91b3-aad50fba3208","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    console.log(pm.request)\r","    pm.response.to.have.status(200);\r","});\r","pm.test('verification du contenu de la reponse', function (){\r","    pm.expect(jsonData.id).to.be.a('number');\r","    pm.expect(jsonData.name).to.not.eql('null');\r","    pm.expect(jsonData.category).to.have.property('id');\r","    pm.expect(jsonData.category.name).to.not.eql('null');\r","    pm.expect(jsonData.category).to.have.property('type');\r","    pm.expect(jsonData).to.have.property('variants');\r","    pm.expect(jsonData.variants[0].id).to.be.a('number');\r","    pm.expect(jsonData.variants[0].basePrice).to.be.a('number');\r","    pm.expect(jsonData.quantity).to.not.be.eql('null');\r","    pm.expect(jsonData.variants[0].images[0]).to.have.property('id');\r","    pm.expect(jsonData.variants[0].images[0]).to.have.property('originalUrl');\r","    pm.expect(jsonData.variants[0].images[0]).to.have.property('miniUrl');\r","    pm.expect(jsonData.variants[0].images[0]).to.have.property('thumbUrl');\r","    pm.expect(jsonData.variants[0].images[0]).to.have.property('squareUrl');\r","    pm.expect(jsonData.variants[0].images[0]).to.have.property('wideUrl');\r","    \r","});\r","/*pm.test('envoi des variables CategoryId et ProductId', function(){\r","    \r","    pm.environment.set(\"ProductId\", jsonData.products[0].id );\r","    pm.environment.set(\"CategoryId\", jsonData.products[0].category.id);\r","    pm.environment.set(\"VariantId\", jsonData.products[0].variants[0].id);\r","})*/"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"fc27e337-c6ab-42a4-99b9-956122bb1386","exec":["setTimeout(function(){}, 2000);"],"type":"text/javascript"}}],"id":"90b548f1-0e02-4b6a-bb24-9e7abb7759d2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"Etag checker.","key":"If-None-Match","value":""}],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/products/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","products",":id"],"variable":[{"key":"id","value":"{{CreateProductId}}","description":"(Required) Unique identifier of the product."}]},"description":"Retrieve a product"},"response":[{"id":"c08fb288-cb27-45f9-8ee7-1b1a0ea55467","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/products/:id","host":["{{baseUrl}}"],"path":["api","v1","products",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"name\": \"Air jordan\",\n \"description\": \"Chaussures trop bien\",\n \"brand\": \"Nike\",\n \"status\": \"online\",\n \"shopId\": 1,\n \"shopName\": \"Ma super boutique\",\n \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n \"isService\": false,\n \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n \"category\": {\n  \"id\": -55023704,\n  \"name\": \"Non classée\",\n  \"slug\": \"non_classée\",\n  \"hasChildren\": false,\n  \"children\": [\n   {\n    \"id\": 87648565,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": true\n   },\n   {\n    \"id\": -63605572,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": false\n   }\n  ]\n },\n \"citizen\": {\n  \"id\": 15,\n  \"nickName\": \"nick name\"\n },\n \"variants\": [\n  {\n   \"id\": 1,\n   \"basePrice\": 20.5,\n   \"weight\": 20.5,\n   \"quantity\": 20,\n   \"images\": [\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    },\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    }\n   ],\n   \"isDefault\": false,\n   \"goodDeal\": {\n    \"startAt\": \"1980-09-18\",\n    \"endAt\": \"1948-01-29\",\n    \"discount\": 52,\n    \"discountedPrice\": 15.9\n   },\n   \"characteristics\": [\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    },\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    }\n   ],\n   \"provider\": {\n    \"name\": \"wynd\",\n    \"externalVariantId\": \"67ty7\"\n   }\n  },\n  {\n   \"id\": 1,\n   \"basePrice\": 20.5,\n   \"weight\": 20.5,\n   \"quantity\": 20,\n   \"images\": [\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    },\n    {\n     \"id\": 42,\n     \"originalUrl\": \"https://path/to/original-image.jpg\",\n     \"miniUrl\": \"https://path/to/mini-format.jpg\",\n     \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n     \"squareUrl\": \"https://path/to/square-format.jpg\",\n     \"wideUrl\": \"https://path/to/wide-format.jpg\"\n    }\n   ],\n   \"isDefault\": false,\n   \"goodDeal\": {\n    \"startAt\": \"1991-05-15\",\n    \"endAt\": \"1996-07-07\",\n    \"discount\": 73,\n    \"discountedPrice\": 15.9\n   },\n   \"characteristics\": [\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    },\n    {\n     \"name\": \"color\",\n     \"value\": \"blue\"\n    }\n   ],\n   \"provider\": {\n    \"name\": \"wynd\",\n    \"externalVariantId\": \"67ty7\"\n   }\n  }\n ],\n \"origin\": \"France\",\n \"allergens\": \"Contient des traces de fruit à coques\",\n \"composition\": \"Oeuf, sucre\",\n \"provider\": {\n  \"externalProductId\": \"33ur\",\n  \"name\": \"wynd\"\n },\n \"createdAt\": \"dolore fugiat\",\n \"updatedAt\": \"Lorem eiusmod pariatur\"\n}"},{"id":"fd6c249e-edee-4112-99ad-24456cf669ae","name":"Not Modified","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/products/:id","host":["{{baseUrl}}"],"path":["api","v1","products",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Not Modified","code":304,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"802ec7cd-17d5-4240-98f0-99ff43671709","name":"Product not found","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/products/:id","host":["{{baseUrl}}"],"path":["api","v1","products",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Search shops","event":[{"listen":"test","script":{"id":"25b4d853-46c3-44cb-a6a2-7e6168b63b7d","exec":["var jsonData = pm.response.json();\r","\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification de la presence d\\'un tableau d\\'objet', function (){\r","    pm.expect(jsonData).to.have.property('shops');\r","});\r","pm.test('verification du contenu du tableau d\\'objet', function () {\r","   pm.expect(jsonData.shops[0]).to.have.property('_index');\r","   pm.expect(jsonData.shops[0]).to.have.property('_score');\r","   pm.expect(jsonData.shops[0].id).to.not.eql('null');\r","   pm.expect(jsonData.shops[0]).to.have.property('cityLabel');\r","   pm.expect(jsonData.shops[0].cityLabel).to.not.eql('null');\r","   pm.expect(jsonData.shops[0].inseeCode).to.be.a('string');\r","   pm.expect(jsonData.shops[0].latitude).to.be.a('number');\r","   pm.expect(jsonData.shops[0].longitude).to.be.a('number');\r","   \r","});"],"type":"text/javascript"}}],"id":"fd4bd2e8-57ef-484a-8d2c-576ba31ece76","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"location\": \"bordeaux\",\n    \"q\": \"\",\n    \"category\": \"alimentation\",\n    /*\"services\": [\n        \"livraison-par-la-poste\",\n        \"livraison-par-la-poste\"\n    ],\n    \"page\": 1,\n    \"perPage\": 12,\n    \"perimeter\": \"country\",*/\n   \"sortBy\": \"\"\n    /*\"excludeLocation\": false,\n    \"geolocOptions\": {\n        \"lat\": -15370376.892095774,\n        \"long\": -31755843.394892305,\n        \"radius\": 50000\n    },\n    \"includeOffline\": false*/\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{ShopsSlug}}/api/v1/shops/summaries/search","host":["{{BaseUrl}}"],"path":["{{ShopsSlug}}","api","v1","shops","summaries","search"]},"description":"Search list of shops"},"response":[{"id":"d446edd3-9db7-4163-a04e-4d603bcc1f46","name":"Successful","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"location\": \"bordeaux\",\n    \"q\": \"Chaussures\",\n    \"category\": \"alimentation\",\n    \"services\": [\n        \"livraison-par-la-poste\",\n        \"livraison-par-la-poste\"\n    ],\n    \"page\": 1,\n    \"perPage\": 12,\n    \"perimeter\": \"country\",\n    \"sortBy\": \"name-asc\",\n    \"excludeLocation\": false,\n    \"geolocOptions\": {\n        \"lat\": -42525753.922830135,\n        \"long\": -48541694.12910649,\n        \"radius\": 50000\n    },\n    \"includeOffline\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/shops/summaries/search","host":["{{baseUrl}}"],"path":["api","v1","shops","summaries","search"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"shops\": [\n  {\n   \"_index\": \"shops_v1_20210315162727103\",\n   \"_type\": \"_doc\",\n   \"_id\": \"42\",\n   \"_score\": 0.9996825,\n   \"id\": \"42\",\n   \"name\": \"Ray's occult books\",\n   \"createdAt\": \"2020-04-11T20:22:29.446+02:00\",\n   \"updatedAt\": \"2021-05-06T17:14:04.816+02:00\",\n   \"slug\": \"ray-s-occult-books\",\n   \"shopUrl\": \"/us/new-york/boutiques/ray-s-occult-books\",\n   \"categoryTreeIds\": [\n    -83266810,\n    -72590924\n   ],\n   \"categoryTreeNames\": [\n    \"consectetur id\",\n    \"dolor tempor aliqua voluptate\"\n   ],\n   \"baseline\": \"We are open until 7:00 P.M. on weekdays, midnight on Saturdays\",\n   \"description\": \"Ray's Occult books opened in 1986 and we specializing in the bizarre, somewhat strange, and hard to find books. If we don't got it we can get it.\",\n   \"brandsName\": [\n    \"do\",\n    \"in ullamco dolore nulla\"\n   ],\n   \"cityLabel\": \"New York\",\n   \"citySlug\": \"new-york\",\n   \"inseeCode\": \"44084\",\n   \"latitude\": 44.82408,\n   \"longitude\": 24.13408,\n   \"territoryName\": \"Usa\",\n   \"territorySlug\": \"usa\",\n   \"departmentNumber\": \"44\",\n   \"deletedAt\": \"reprehenderit\",\n   \"numberOfOnlineProducts\": 233,\n   \"numberOfOrders\": 5,\n   \"imageUrl\": \"https://static.wikia.nocookie.net/ghostbusters/images/e/e0/GB2film1999chapter04sc001.png/revision/latest?cb=20111220104753\",\n   \"coupons\": \"[]\",\n   \"pictogram_url\": \"qui labore aliquip cupidatat\",\n   \"services\": [\n    \"dolor in dolor\",\n    \"do ea fugiat magna in\"\n   ],\n   \"isTemplate\": false,\n   \"score\": 5,\n   \"indexed_at\": \"2021-06-28T11:09:54.088+00:00\"\n  },\n  {\n   \"_index\": \"shops_v1_20210315162727103\",\n   \"_type\": \"_doc\",\n   \"_id\": \"42\",\n   \"_score\": 0.9996825,\n   \"id\": \"42\",\n   \"name\": \"Ray's occult books\",\n   \"createdAt\": \"2020-04-11T20:22:29.446+02:00\",\n   \"updatedAt\": \"2021-05-06T17:14:04.816+02:00\",\n   \"slug\": \"ray-s-occult-books\",\n   \"shopUrl\": \"/us/new-york/boutiques/ray-s-occult-books\",\n   \"categoryTreeIds\": [\n    87509648,\n    49084094\n   ],\n   \"categoryTreeNames\": [\n    \"incididunt pariatur ut\",\n    \"sed tempor minim qui\"\n   ],\n   \"baseline\": \"We are open until 7:00 P.M. on weekdays, midnight on Saturdays\",\n   \"description\": \"Ray's Occult books opened in 1986 and we specializing in the bizarre, somewhat strange, and hard to find books. If we don't got it we can get it.\",\n   \"brandsName\": [\n    \"anim et proident deserunt voluptate\",\n    \"consequat c\"\n   ],\n   \"cityLabel\": \"New York\",\n   \"citySlug\": \"new-york\",\n   \"inseeCode\": \"44084\",\n   \"latitude\": 44.82408,\n   \"longitude\": 24.13408,\n   \"territoryName\": \"Usa\",\n   \"territorySlug\": \"usa\",\n   \"departmentNumber\": \"44\",\n   \"deletedAt\": \"aliqua culpa\",\n   \"numberOfOnlineProducts\": 233,\n   \"numberOfOrders\": 5,\n   \"imageUrl\": \"https://static.wikia.nocookie.net/ghostbusters/images/e/e0/GB2film1999chapter04sc001.png/revision/latest?cb=20111220104753\",\n   \"coupons\": \"[]\",\n   \"pictogram_url\": \"exercitation ipsum Ut culpa\",\n   \"services\": [\n    \"id ut\",\n    \"aliquip nostrud occaecat aliqua sit\"\n   ],\n   \"isTemplate\": false,\n   \"score\": 5,\n   \"indexed_at\": \"2021-06-28T11:09:54.088+00:00\"\n  }\n ],\n \"filters\": {\n  \"basePrice\": [\n   {\n    \"key\": \"23\",\n    \"value\": \"12\"\n   },\n   {\n    \"key\": \"23\",\n    \"value\": \"12\"\n   }\n  ],\n  \"colors\": [\n   {\n    \"key\": \"red\",\n    \"value\": \"23\"\n   },\n   {\n    \"key\": \"red\",\n    \"value\": \"23\"\n   }\n  ],\n  \"sizes\": [\n   {\n    \"key\": \"M\",\n    \"value\": \"23\"\n   },\n   {\n    \"key\": \"M\",\n    \"value\": \"23\"\n   }\n  ],\n  \"services\": [\n   {\n    \"key\": \"livraison-la-poste\",\n    \"value\": \"23\"\n   },\n   {\n    \"key\": \"livraison-la-poste\",\n    \"value\": \"23\"\n   }\n  ],\n  \"categories\": [\n   {\n    \"key\": \"homme/vetements\",\n    \"value\": \"23\"\n   },\n   {\n    \"key\": \"homme/vetements\",\n    \"value\": \"23\"\n   }\n  ],\n  \"brands\": [\n   {\n    \"key\": \"Nike\",\n    \"value\": \"23\"\n   },\n   {\n    \"key\": \"Nike\",\n    \"value\": \"23\"\n   }\n  ]\n },\n \"page\": 1,\n \"totalPages\": 15,\n \"totalCount\": 302\n}"},{"id":"57017c67-5bfd-48e6-b6f1-c3f2b7c4252b","name":"Bad Request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"location\": \"bordeaux\",\n    \"q\": \"Chaussures\",\n    \"category\": \"alimentation\",\n    \"services\": [\n        \"livraison-par-la-poste\",\n        \"livraison-par-la-poste\"\n    ],\n    \"page\": 1,\n    \"perPage\": 12,\n    \"perimeter\": \"country\",\n    \"sortBy\": \"name-asc\",\n    \"excludeLocation\": false,\n    \"geolocOptions\": {\n        \"lat\": -42525753.922830135,\n        \"long\": -48541694.12910649,\n        \"radius\": 50000\n    },\n    \"includeOffline\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/shops/summaries/search","host":["{{baseUrl}}"],"path":["api","v1","shops","summaries","search"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"accf9e65-4a67-48af-bfc0-96f0c63121e4","name":"Not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"location\": \"bordeaux\",\n    \"q\": \"Chaussures\",\n    \"category\": \"alimentation\",\n    \"services\": [\n        \"livraison-par-la-poste\",\n        \"livraison-par-la-poste\"\n    ],\n    \"page\": 1,\n    \"perPage\": 12,\n    \"perimeter\": \"country\",\n    \"sortBy\": \"name-asc\",\n    \"excludeLocation\": false,\n    \"geolocOptions\": {\n        \"lat\": -42525753.922830135,\n        \"long\": -48541694.12910649,\n        \"radius\": 50000\n    },\n    \"includeOffline\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/shops/summaries/search","host":["{{baseUrl}}"],"path":["api","v1","shops","summaries","search"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]}],"auth":{"type":"apikey","apikey":[{"key":"key","value":"{{ApiKey}}","type":"string"}]},"event":[{"listen":"prerequest","script":{"id":"d6300b3e-0a9d-43d8-815f-f63a199a2008","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"d0296eb9-ce92-488a-b91e-8d3eac04ad3c","type":"text/javascript","exec":[""]}}]}