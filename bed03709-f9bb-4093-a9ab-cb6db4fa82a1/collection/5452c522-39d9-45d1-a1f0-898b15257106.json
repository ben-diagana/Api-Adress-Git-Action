{"info":{"_postman_id":"5452c522-39d9-45d1-a1f0-898b15257106","name":"Parcours Selection","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Sign In.","event":[{"listen":"test","script":{"id":"e49c7d05-f89a-48e4-aa5d-8a6debe3630f","exec":["var jsonData =pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(201);\r","});\r","pm.test (\"La réponse a un corps JSON\", function () {\r","    pm.response.to.be.json;\r","    \r","});\r","     \r","pm.test (\"La réponse a une propriété authToken et est un string\", function () {\r","    var jsonData = pm.response.json ();\r","    pm.expect (jsonData.authToken).to.be.a('string');\r","    pm.expect(jsonData).to.have.property('authToken')\r","})\r","\r","pm.test('envi de token pour la création d\\'une selection', function () {\r","    pm.environment.set('SelectionToken', jsonData.authToken)\r","});"],"type":"text/javascript"}}],"id":"65624916-443c-4088-a49e-bee220c7994a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{AdminEmail}}\",\n    \"password\": \"{{AdminPassword}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users/sign_in","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users","sign_in"]},"description":"Sign In."},"response":[{"id":"7545a131-7114-4768-aa6f-361e2c70f1f0","name":"Successful response","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"authToken\": \"eNJhbGciOiJ1Uz61NiJ9.eyJpZCI6NDgZNTQsImV42CI6MTYyMjEwMzc4NX0.JXVo1WKZx2OgDPW4w7afCTupkCRTHYUjnLBnnaZGiJ7I\"\n}"},{"id":"498339b6-1425-489f-a956-648f2f288898","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"7f91825b-649c-4b90-89e7-3e7ec77cc4c9","name":"Unprocessable Entity","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Unprocessable Entity (WebDAV) (RFC 4918)","code":422,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"},{"id":"65095b7b-7853-48b9-b262-e47d813f710f","name":"An Error Happened","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"}]},{"name":"create a selection","event":[{"listen":"test","script":{"id":"cf439093-b823-43ad-bedb-9705e87a0e3e","exec":["var jsoData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test('verification du contenu de la reponse', function(){\r","  pm.expect(jsoData.id).to.be.a('number');\r","  pm.expect(jsoData.name).not.eql(null);\r","  pm.expect(jsoData.image).to.be.an('object');\r","  pm.expect(jsoData.image).to.have.property('id'),\r","  pm.expect(jsoData.image).to.have.property('originalUrl')\r","  pm.expect(jsoData.image).to.have.property('miniUrl')\r","  pm.expect(jsoData.image).to.have.property('thumbUrl')\r","})\r","\r","pm.test('envoi de l\\'id de selection', function () {\r"," pm.environment.set('SelectionId', jsoData.id)\r","})"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"1676d2d1-25e8-480c-93f2-ec220344871b","exec":["var date = Date.now();\r","var SelectionName = \"Selection \" + \" \"  + date;\r","pm.environment.set('SelectionName', SelectionName )"],"type":"text/javascript"}}],"id":"e601a947-e296-4bfa-a83a-65023459ad9d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"description":"(Required) Auth token of user","key":"x-client-id","value":"{{SelectionToken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"{{SelectionName}}\",\n  \"description\": \"Selection de voitures.\",\n  \"tagIds\": [\n    1\n  ],\n  \"startAt\": \"20/07/2021\",\n  \"endAt\": \"27/01/2024\",\n  \"homePage\": true,\n  \"event\": true,\n  \"state\": \"active\",\n  //\"imageId\": 167198,\n  \"imageUrl\": \"https://miro.medium.com/max/1200/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg\",\n  //\"coverId\": 167199,\n  \"coverUrl\": \"https://img-19.commentcamarche.net/WNCe54PoGxObY8PCXUxMGQ0Gwss=/480x270/smart/d8c10e7fd21a485c909a5b4c5d99e611/ccmcms-commentcamarche/20456790.jpg\",\n  \"promoted\": true\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/selections","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","selections"]},"description":"Create a selection."},"response":[{"id":"14460fab-e2f8-442e-a20e-2db54cc121c2","name":"successful","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"active\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections","host":["{{baseUrl}}"],"path":["api","v1","auth","selections"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 42,\n \"name\": \"voiture\",\n \"slug\": \"voiture-1\",\n \"description\": \"Selection de voitures.\",\n \"tagIds\": [\n  24490891,\n  6175176\n ],\n \"startAt\": \"20/07/2021\",\n \"endAt\": \"27/07/2021\",\n \"homePage\": false,\n \"event\": false,\n \"state\": \"active\",\n \"order\": 79,\n \"image\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"productsCount\": 100\n}"},{"id":"246529bd-2ca7-4913-9af4-78fcb721a5ad","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"active\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections","host":["{{baseUrl}}"],"path":["api","v1","auth","selections"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"8d2f0f08-0695-4d25-bff6-e565344b7fb3","name":"Unauthorized","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"active\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections","host":["{{baseUrl}}"],"path":["api","v1","auth","selections"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"955254d4-1890-495c-8660-e69d86f7eefe","name":"Forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"active\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections","host":["{{baseUrl}}"],"path":["api","v1","auth","selections"]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"f22f7edc-8bfa-45c7-8e3a-d7e8378ef97a","name":"Selection not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"active\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections","host":["{{baseUrl}}"],"path":["api","v1","auth","selections"]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Add a product to a selection","event":[{"listen":"test","script":{"id":"f4734c63-9147-45c4-861a-8cf84b2f7798","exec":["let jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification du contenu de la reponse', function () {\r","    pm.expect(jsonData.id).to.be.a('number');\r","    pm.expect(jsonData.startAt).not.eql(null);\r","    pm.expect(jsonData.homePage).to.eql(true);\r","    pm.expect(jsonData.event).to.eql(true);\r","    pm.expect(jsonData.state).to.eql('active');\r","    pm.expect(jsonData.promoted).to.eql(true)\r","\r","});\r",""],"type":"text/javascript"}}],"id":"19926ed4-7557-42f7-a669-f2395fb80c28","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"description":"(Required) Auth token of user","key":"x-client-id","value":"{{SelectionToken}}"},{"key":"Content-Type","value":"application/json","type":"text"}],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/selections/:selection_id/products/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","selections",":selection_id","products",":id"],"variable":[{"key":"selection_id","value":"{{SelectionId}}","description":"(Required) Unique identifier of the selection."},{"key":"id","value":"{{ProductId}}","description":"(Required) Unique identifier of the product."}]},"description":"Add a product to a selection."},"response":[{"id":"e2d5c086-965e-4275-a74e-8e4129c24cec","name":"successful","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:selection_id/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":selection_id","products",":id"],"variable":[{"key":"selection_id","value":"9154581","description":"(Required) Unique identifier of the selection."},{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 42,\n \"name\": \"voiture\",\n \"slug\": \"voiture-1\",\n \"description\": \"Selection de voitures.\",\n \"tagIds\": [\n  24490891,\n  6175176\n ],\n \"startAt\": \"20/07/2021\",\n \"endAt\": \"27/07/2021\",\n \"homePage\": false,\n \"event\": false,\n \"state\": \"active\",\n \"order\": 79,\n \"image\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"productsCount\": 100\n}"},{"id":"a9db7aa9-8356-4bdd-aa4e-1e78e437a82e","name":"Unauthorized","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:selection_id/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":selection_id","products",":id"],"variable":[{"key":"selection_id","value":"9154581","description":"(Required) Unique identifier of the selection."},{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"9f063ade-55cb-440f-8b8e-dd6dbd3dfc1d","name":"Forbidden","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:selection_id/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":selection_id","products",":id"],"variable":[{"key":"selection_id","value":"9154581","description":"(Required) Unique identifier of the selection."},{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"f80927db-80ac-4405-91b1-b6b4f65d032f","name":"Product not found","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:selection_id/products/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":selection_id","products",":id"],"variable":[{"key":"selection_id","value":"9154581","description":"(Required) Unique identifier of the selection."},{"key":"id","value":"9154581","description":"(Required) Unique identifier of the product."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Returns products of an online selection","event":[{"listen":"test","script":{"id":"2268e3db-073f-4f0e-b65f-f9fc2202475e","exec":["let jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});"],"type":"text/javascript"}},{"listen":"prerequest","script":{"id":"400ab518-75de-4b4c-885c-d0b879a1ce1d","exec":["\r","    setTimeout(function(){\r","        console.log(\"Retardée d'une seconde.\");\r","        }, [10000])\r",""],"type":"text/javascript"}}],"id":"6389d97f-fff6-40dc-9cc0-7f3b865de3db","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/selections/:id/products","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","selections",":id","products"],"query":[{"key":"page","value":"1","description":"(Required) Number of desired page.","disabled":true}],"variable":[{"key":"id","value":"{{SelectionId}}","description":"(Required) Unique identifier of a selection."}]},"description":"Returns products of an online selection."},"response":[{"id":"cea79143-2d9a-47b5-af2d-ddf78e3ca8ef","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/selections/:id/products?page=1","host":["{{baseUrl}}"],"path":["api","v1","selections",":id","products"],"query":[{"key":"page","value":"1"}],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of a selection."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"products\": [\n  {\n   \"id\": 1,\n   \"name\": \"Air jordan\",\n   \"description\": \"Chaussures trop bien\",\n   \"brand\": \"Nike\",\n   \"status\": \"online\",\n   \"shopId\": 1,\n   \"shopName\": \"Ma super boutique\",\n   \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n   \"isService\": false,\n   \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n   \"category\": {\n    \"id\": 74763254,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": true,\n    \"children\": [\n     {\n      \"id\": 31519018,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": true\n     },\n     {\n      \"id\": -68627212,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": true\n     }\n    ]\n   },\n   \"citizen\": {\n    \"id\": 15,\n    \"nickName\": \"nick name\"\n   },\n   \"variants\": [\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1997-12-09\",\n      \"endAt\": \"1993-12-17\",\n      \"discount\": 80,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    },\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"2002-10-03\",\n      \"endAt\": \"2010-04-03\",\n      \"discount\": 68,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    }\n   ],\n   \"origin\": \"France\",\n   \"allergens\": \"Contient des traces de fruit à coques\",\n   \"composition\": \"Oeuf, sucre\",\n   \"provider\": {\n    \"externalProductId\": \"33ur\",\n    \"name\": \"wynd\"\n   },\n   \"createdAt\": \"sint\",\n   \"updatedAt\": \"elit\"\n  },\n  {\n   \"id\": 1,\n   \"name\": \"Air jordan\",\n   \"description\": \"Chaussures trop bien\",\n   \"brand\": \"Nike\",\n   \"status\": \"online\",\n   \"shopId\": 1,\n   \"shopName\": \"Ma super boutique\",\n   \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n   \"isService\": false,\n   \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n   \"category\": {\n    \"id\": 88493203,\n    \"name\": \"Non classée\",\n    \"slug\": \"non_classée\",\n    \"hasChildren\": true,\n    \"children\": [\n     {\n      \"id\": -66125697,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": false\n     },\n     {\n      \"id\": 35048855,\n      \"name\": \"Non classée\",\n      \"slug\": \"non_classée\",\n      \"hasChildren\": true\n     }\n    ]\n   },\n   \"citizen\": {\n    \"id\": 15,\n    \"nickName\": \"nick name\"\n   },\n   \"variants\": [\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"1961-01-05\",\n      \"endAt\": \"2017-06-14\",\n      \"discount\": 19,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    },\n    {\n     \"id\": 1,\n     \"basePrice\": 20.5,\n     \"weight\": 20.5,\n     \"quantity\": 20,\n     \"images\": [\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      },\n      {\n       \"id\": 42,\n       \"originalUrl\": \"https://path/to/original-image.jpg\",\n       \"miniUrl\": \"https://path/to/mini-format.jpg\",\n       \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n       \"squareUrl\": \"https://path/to/square-format.jpg\",\n       \"wideUrl\": \"https://path/to/wide-format.jpg\"\n      }\n     ],\n     \"isDefault\": false,\n     \"goodDeal\": {\n      \"startAt\": \"2005-01-10\",\n      \"endAt\": \"2012-07-01\",\n      \"discount\": 93,\n      \"discountedPrice\": 15.9\n     },\n     \"characteristics\": [\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      },\n      {\n       \"name\": \"color\",\n       \"value\": \"blue\"\n      }\n     ],\n     \"provider\": {\n      \"name\": \"wynd\",\n      \"externalVariantId\": \"67ty7\"\n     }\n    }\n   ],\n   \"origin\": \"France\",\n   \"allergens\": \"Contient des traces de fruit à coques\",\n   \"composition\": \"Oeuf, sucre\",\n   \"provider\": {\n    \"externalProductId\": \"33ur\",\n    \"name\": \"wynd\"\n   },\n   \"createdAt\": \"laborum magna consequat veniam\",\n   \"updatedAt\": \"ad mollit irure\"\n  }\n ],\n \"page\": 1,\n \"totalPages\": 19\n}"},{"id":"756043ee-7634-41f5-bb67-424dfeca05d8","name":"Forbidden","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/selections/:id/products?page=1","host":["{{baseUrl}}"],"path":["api","v1","selections",":id","products"],"query":[{"key":"page","value":"1"}],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of a selection."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"bd719020-5a66-46b8-9d82-81b8654c4b71","name":"Selection not found","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/selections/:id/products?page=1","host":["{{baseUrl}}"],"path":["api","v1","selections",":id","products"],"query":[{"key":"page","value":"1"}],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of a selection."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Returns a selection","event":[{"listen":"test","script":{"id":"2b9feb5d-facc-4481-85af-979b85c0bc8f","exec":["\r","\r","var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","\r","\r",""],"type":"text/javascript"}}],"id":"32506be5-512d-483f-818d-3a1ddd20315a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"key":"x-client-id","value":"{{SelectionToken}}","type":"text"}],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/selections/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","selections",":id"],"variable":[{"key":"id","value":"{{SelectionId}}","description":"(Required) Unique identifier of a selection."}]},"description":"Returns an online selection."},"response":[{"id":"bb308f24-e30f-44e0-8704-cc479446d3c3","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of a selection."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 42,\n \"name\": \"voiture\",\n \"slug\": \"voiture-1\",\n \"description\": \"Selection de voitures.\",\n \"tagIds\": [\n  24490891,\n  6175176\n ],\n \"startAt\": \"20/07/2021\",\n \"endAt\": \"27/07/2021\",\n \"homePage\": false,\n \"event\": false,\n \"state\": \"active\",\n \"order\": 79,\n \"image\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"productsCount\": 100\n}"},{"id":"04bc4e32-a12a-42d7-9bce-289b78712a5b","name":"Product not found","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of a selection."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"update a selection","event":[{"listen":"test","script":{"id":"82b38e74-4557-4b5a-9596-7e5ff71d68c4","exec":["let jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","\r","pm.test('verification du contenu de la reponse', function () {\r","pm.expect(jsonData.homePage).to.eql(false);\r","pm.expect(jsonData.event).to.eql(false);\r","pm.expect(jsonData.state).to.eql('active')\r","})\r","\r","\r",""],"type":"text/javascript"}}],"id":"a315d160-8fc2-4378-ba2b-8612feedfa47","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"PATCH","header":[{"description":"(Required) Auth token of user","key":"x-client-id","value":"{{SelectionToken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"name\": \"Selection du 280\",\n  \"description\": \"Selection de voitures.\",\n  \"tagIds\": [\n    1\n  ],\n  \"startAt\": \"20/07/2021\",\n  \"endAt\": \"27/07/2023\",\n  \"homePage\": false,\n  \"event\": false,\n  \"state\": \"active\",\n  //\"imageId\": 167198,\n  //\"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\",\n  //\"coverId\": 167200,\n  //\"coverUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\",\n  \"promoted\": false\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/selections/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"{{SelectionId}}","description":"(Required) Unique identifier of the selection."}]},"description":"Update a selection."},"response":[{"id":"31b16198-f7a1-4fbf-a7cf-cfde950c05d7","name":"successful","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"disabled\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 42,\n \"name\": \"voiture\",\n \"slug\": \"voiture-1\",\n \"description\": \"Selection de voitures.\",\n \"tagIds\": [\n  24490891,\n  6175176\n ],\n \"startAt\": \"20/07/2021\",\n \"endAt\": \"27/07/2021\",\n \"homePage\": false,\n \"event\": false,\n \"state\": \"active\",\n \"order\": 79,\n \"image\": {\n  \"id\": 42,\n  \"originalUrl\": \"https://path/to/original-image.jpg\",\n  \"miniUrl\": \"https://path/to/mini-format.jpg\",\n  \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n  \"squareUrl\": \"https://path/to/square-format.jpg\",\n  \"wideUrl\": \"https://path/to/wide-format.jpg\"\n },\n \"productsCount\": 100\n}"},{"id":"dd1e5b56-e4dd-4aa5-a59e-55bfac53e778","name":"Bad request","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"disabled\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"b144c994-05f1-4b45-a7a3-f82d24e00dab","name":"Unauthorized","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"disabled\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"1a4a3363-1d75-4d03-b420-432e44efe440","name":"Forbidden","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"disabled\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"0c30b4a8-f588-44b7-b4c3-a19be862ecce","name":"Selection not found","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"{\n    \"name\": \"voiture\",\n    \"description\": \"Selection de voitures.\",\n    \"tagIds\": [\n        12,\n        12\n    ],\n    \"startAt\": \"20/07/2021\",\n    \"endAt\": \"27/07/2021\",\n    \"homePage\": false,\n    \"event\": false,\n    \"state\": \"disabled\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https:/mavillemonshopping-exemples.com/uploads/development/image/46718/file/thumb-473860fqsfsqfac939fb02d2a0263cf171.jpg\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Lists all the online selections","event":[{"listen":"test","script":{"id":"2f9d3c6a-89c5-4068-8c20-83c34d1a534a","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification du cnotenu', function (){\r","    pm.expect(jsonData).to.have.property('selections');\r","    pm.expect(jsonData.selections[0].name).to.not.eql('null');\r","    pm.expect(jsonData.selections[0].image.id).to.not.eql('null');\r","});\r","\r","pm.test('envoi de la variable de la selection', function(){\r","    pm.environment.set(\"SelectionId\",jsonData.selections[0].id );\r","    pm.environment.set(\"SelectionImgId\",jsonData.selections[0].image.id)\r","});"],"type":"text/javascript"}}],"id":"f41d6a12-2d4a-4caf-9507-df7848e07a94","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/selections","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","selections"],"query":[{"key":"page","value":"1","description":"(Required) Number of desired page.","disabled":true}]},"description":"Lists all the online selections."},"response":[{"id":"d00c5c74-6c03-4261-b43a-8cf6a873b74f","name":"successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/selections?page=1","host":["{{baseUrl}}"],"path":["api","v1","selections"],"query":[{"key":"page","value":"1"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"selections\": [\n  {\n   \"id\": 42,\n   \"name\": \"voiture\",\n   \"slug\": \"voiture-1\",\n   \"description\": \"Selection de voitures.\",\n   \"tagIds\": [\n    -51396171,\n    -78646442\n   ],\n   \"startAt\": \"20/07/2021\",\n   \"endAt\": \"27/07/2021\",\n   \"homePage\": false,\n   \"event\": false,\n   \"state\": \"inactive\",\n   \"order\": 79,\n   \"image\": {\n    \"id\": 42,\n    \"originalUrl\": \"https://path/to/original-image.jpg\",\n    \"miniUrl\": \"https://path/to/mini-format.jpg\",\n    \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n    \"squareUrl\": \"https://path/to/square-format.jpg\",\n    \"wideUrl\": \"https://path/to/wide-format.jpg\"\n   },\n   \"productsCount\": 100\n  },\n  {\n   \"id\": 42,\n   \"name\": \"voiture\",\n   \"slug\": \"voiture-1\",\n   \"description\": \"Selection de voitures.\",\n   \"tagIds\": [\n    -61168417,\n    -16861194\n   ],\n   \"startAt\": \"20/07/2021\",\n   \"endAt\": \"27/07/2021\",\n   \"homePage\": false,\n   \"event\": false,\n   \"state\": \"active\",\n   \"order\": 79,\n   \"image\": {\n    \"id\": 42,\n    \"originalUrl\": \"https://path/to/original-image.jpg\",\n    \"miniUrl\": \"https://path/to/mini-format.jpg\",\n    \"thumbUrl\": \"https://path/to/thumb-format.jpg\",\n    \"squareUrl\": \"https://path/to/square-format.jpg\",\n    \"wideUrl\": \"https://path/to/wide-format.jpg\"\n   },\n   \"productsCount\": 100\n  }\n ],\n \"page\": 1,\n \"totalPages\": 19\n}"}]},{"name":"delete a selection","event":[{"listen":"test","script":{"id":"ddd88eb9-b205-4653-b885-ab6fccb425b3","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(204);\r","});"],"type":"text/javascript"}}],"id":"f4d1aa5f-12fe-41c8-9da2-35f4083a4272","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"DELETE","header":[{"description":"(Required) Auth token of user","key":"x-client-id","value":"{{SelectionToken}}"}],"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/selections/:id","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"{{SelectionId}}","description":"(Required) Unique identifier of the selection."}]},"description":"Delete a selection."},"response":[{"id":"9b6b6b76-8a34-4b9f-93f3-c03af08e8d13","name":"Successful","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"1d1a8d69-b720-419a-bb62-05c5a1113e00","name":"Bad request","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"8355aa79-6a4f-4c6c-b085-97954fb3dbe5","name":"Unauthorized","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"52e8e101-9ce3-4ae0-b454-10c5ef402000","name":"Forbidden","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"7d31e1f4-688f-4563-b581-5317d29955c7","name":"Selection not found","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/selections/:id","host":["{{baseUrl}}"],"path":["api","v1","auth","selections",":id"],"variable":[{"key":"id","value":"9154581","description":"(Required) Unique identifier of the selection."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]}]}