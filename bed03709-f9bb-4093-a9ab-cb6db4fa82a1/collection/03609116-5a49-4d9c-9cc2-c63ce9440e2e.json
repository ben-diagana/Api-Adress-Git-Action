{"info":{"_postman_id":"03609116-5a49-4d9c-9cc2-c63ce9440e2e","name":"Shedules","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"get shop's schedules","event":[{"listen":"test","script":{"id":"4747c213-cbfe-4f89-a673-de914cb66c99","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    console.log(pm.request)\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('envo de l\\id du dimanche', function () {\r","    pm.expect(jsonData[6].day).to.eql('Dimanche')\r","    pm.environment.set('DimancheId',jsonData[6].id);\r","\r","})"],"type":"text/javascript"}}],"id":"5f7ba585-40f4-441b-aebe-1e9b3a8afe10","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{BaseUrl}}/{{ShopsSlug}}/api/v1/shops/:id/schedules","host":["{{BaseUrl}}"],"path":["{{ShopsSlug}}","api","v1","shops",":id","schedules"],"variable":[{"key":"id","value":"{{ShopId}}","description":"(Required) Unique identifier of the desired shop."}]},"description":"Retrieve schedules from the given shop."},"response":[{"id":"70444c31-ce57-4f80-b831-6eac4db6d058","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"[\n {\n  \"id\": 3,\n  \"day\": \"Lundi\",\n  \"openMorning\": \"09:00\",\n  \"closeMorning\": \"12:00\",\n  \"openAfternoon\": \"14:00\",\n  \"closeAftenoon\": \"19:00\"\n },\n {\n  \"id\": 3,\n  \"day\": \"Lundi\",\n  \"openMorning\": \"09:00\",\n  \"closeMorning\": \"12:00\",\n  \"openAfternoon\": \"14:00\",\n  \"closeAftenoon\": \"19:00\"\n }\n]"},{"id":"401b1a64-8cbe-49d2-898c-18cf49399e5d","name":"Not Modified","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Not Modified","code":304,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"68a0cc96-f04c-409c-8d48-fbdea293cc81","name":"Not found","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"Etag checker.","key":"If-None-Match","value":"qui"}],"url":{"raw":"{{baseUrl}}/api/v1/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"Sign In.","event":[{"listen":"test","script":{"id":"e49c7d05-f89a-48e4-aa5d-8a6debe3630f","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(201);\r","});\r","pm.test (\"La réponse a un corps JSON\", function () {\r","    pm.response.to.be.json;\r","    \r","});\r","     \r","pm.test (\"La réponse a une propriété authToken et est un string\", function () {\r","    var jsonData = pm.response.json ();\r","    pm.expect (jsonData.authToken).to.be.a('string');\r","    pm.expect(jsonData).to.have.property('authToken');\r","    pm.environment.set(\"ShopSchedulesToken\", jsonData.authToken)\r","   \r","    \r","\r","});"],"type":"text/javascript"}}],"id":"c9995979-d2cb-4f20-9528-c7ff00c4edf2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{ShopEmail}}\",\n    \"password\": \"{{ShopPassword}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users/sign_in","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users","sign_in"]},"description":"Sign In."},"response":[{"id":"c8ff23cd-eded-4dad-8e8e-ec16efede3f0","name":"Successful response","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"authToken\": \"eNJhbGciOiJ1Uz61NiJ9.eyJpZCI6NDgZNTQsImV42CI6MTYyMjEwMzc4NX0.JXVo1WKZx2OgDPW4w7afCTupkCRTHYUjnLBnnaZGiJ7I\"\n}"},{"id":"7eb46414-22f0-448e-b543-5dba62d8efff","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"ee554537-169b-4759-95a8-f33ec7693ffc","name":"Unprocessable Entity","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Unprocessable Entity (WebDAV) (RFC 4918)","code":422,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"},{"id":"c793bd7b-03ca-486f-963e-c9b302bef227","name":"An Error Happened","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"}]},{"name":"Update shop's schedules","event":[{"listen":"test","script":{"id":"b5f47602-708d-4a1e-8619-7700b8a62259","exec":["\r","var jsonData  = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification  des horaires', function() {\r","    pm.expect(jsonData[0].openMorning).to.eql(\"10:00\")\r","});"],"type":"text/javascript"}}],"id":"b946c4c8-66a8-4627-8716-a60506e70e2c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"PUT","header":[{"description":"(Required) Auth token of user","key":"x-client-id","value":"{{ShopSchedulesToken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"[\n    {\n        \"id\": {{DimancheId}},\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"15:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    }\n    \n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{ShopsSlug}}/api/v1/auth/shops/:id/schedules","host":["{{BaseUrl}}"],"path":["{{ShopsSlug}}","api","v1","auth","shops",":id","schedules"],"variable":[{"key":"id","value":"{{ShopId}}","description":"(Required) Unique identifier of the desired shop."}]},"description":"Update schedules from the given shop."},"response":[{"id":"6b9ab466-95ad-468c-98bc-63da041d57b0","name":"Successful","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"[\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    },\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    }\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"[\n {\n  \"id\": 3,\n  \"day\": \"Lundi\",\n  \"openMorning\": \"09:00\",\n  \"closeMorning\": \"12:00\",\n  \"openAfternoon\": \"14:00\",\n  \"closeAftenoon\": \"19:00\"\n },\n {\n  \"id\": 3,\n  \"day\": \"Lundi\",\n  \"openMorning\": \"09:00\",\n  \"closeMorning\": \"12:00\",\n  \"openAfternoon\": \"14:00\",\n  \"closeAftenoon\": \"19:00\"\n }\n]"},{"id":"40d707aa-097a-41e4-bc3f-7e9b6a1b80f8","name":"Bad request","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"[\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    },\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    }\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"930d7d2e-e242-4dae-b3c3-4bca2893d24a","name":"Unauthorized","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"[\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    },\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    }\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"12c69308-c790-49f6-b2da-463702588ed1","name":"Forbidden","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"[\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    },\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    }\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"a747439a-72b8-46e2-9b7a-431b4deee92d","name":"Not found","originalRequest":{"method":"PUT","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) Auth token of user","key":"x-client-id","value":"qui"}],"body":{"mode":"raw","raw":"[\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    },\n    {\n        \"id\": 3,\n        \"openMorning\": \"10:00\",\n        \"openAfternoon\": \"13:00\",\n        \"closeMorning\": \"14:00\",\n        \"closeAfternoon\": \"20:00\"\n    }\n]","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/shops/:id/schedules","host":["{{baseUrl}}"],"path":["api","v1","auth","shops",":id","schedules"],"variable":[{"key":"id","value":"qui","description":"(Required) Unique identifier of the desired shop."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]}]}