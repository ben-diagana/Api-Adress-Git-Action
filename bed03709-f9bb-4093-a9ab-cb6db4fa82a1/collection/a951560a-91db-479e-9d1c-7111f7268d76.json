{"info":{"_postman_id":"a951560a-91db-479e-9d1c-7111f7268d76","name":"User Api Tunnel","description":"Ma Ville Mon Shopping User API","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"SignUp","event":[{"listen":"prerequest","script":{"id":"441efb6f-e753-4f50-a7e6-e3b388afae0e","exec":["let date = Date.now()\r","let email = \"customer\" + date + \"@mvms.fr\"\r","pm.environment.set('CustomerEmail', email)"],"type":"text/javascript"}},{"listen":"test","script":{"id":"193a6bf0-baf9-4c62-977c-8661c5dcb747","exec":["\r","\r","var jsonData = pm.response.json ();\r","\r","pm.test(\"Status code is 201\", function () {\r","    pm.response.to.have.status(201);\r","});\r","\r","pm.test (\"La réponse a un corps JSON\", function () {\r","    pm.response.to.be.json;\r","    \r","});\r","\r","pm.test('verification de la presence des éléments', function () {\r","    //pm.expect(jsonData.user).to.have.property('id','email','firstName','lastName','nickname','mobilePhoneNumber');\r","    pm.expect(jsonData.user).to.be.an('object');\r","    pm.expect(jsonData.user.id).to.be.a('number');\r","    pm.expect(jsonData.user.email).to.include(\"@\", '.');\r","    pm.expect(jsonData.user.firstName).not.to.be.null;\r","    pm.expect(jsonData.user.lastName).not.to.be.null;\r","    //pm.expect(jsonData.user.nickName).not.to.be.null;\r","    pm.expect(jsonData.user.mobilePhoneNumber).not.to.be.null\r","});\r","\r","pm.test('verification de la presence du thoken', function () {\r","    pm.expect(jsonData).to.have.property('authToken'),\r","    pm.expect(jsonData.authToken).not.to.be.null,\r","    pm.expect (jsonData.authToken).to.be.a('string')\r","});\r","pm.test('envoi du token vers  la mise à jour du profil cityzen', function (){\r","    pm.environment.set('CustomerToken', jsonData.authToken);\r","    pm.environment.set('CustomerId', jsonData.user.id)\r","     // pm.environment.set('CreateShopEmail', jsonData.user.email)\r","});\r","  "],"type":"text/javascript"}}],"id":"3c7028f2-4467-4db3-b21d-a2dbcff0665d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{CustomerEmail}}\",\n    \"password\": \"Ben@194561\",\n    \"cityletterAcceptance\": 0,\n    \"policyRulePrivacyTerms\": true,\n    \"type\": \"customer\",\n    \"firstName\": \"Ben\",\n    \"lastName\": \"Diagui\",\n    //\"nickname\": \"Ben-j\",\n    \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users"]},"description":"Create user account."},"response":[{"id":"e007762d-49fa-4703-bed5-bb5e76af1e3a","name":"Successful response","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"email\": \"example@mail.com\",\n  \"password\": \"Passsword1!\",\n  \"cityletterAcceptance\": 0,\n  \"policyRulePrivacyTerms\": true,\n  \"type\": \"customer\",\n  \"firstName\": \"Harry\",\n  \"lastName\": \"Potter\",\n  \"nickname\": \"The One\",\n  \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users","host":["{{baseUrl}}"],"path":["api","v1","users"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"user\": {\n    \"id\": 1,\n    \"email\": \"example@mail.com\",\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The Wizard\",\n    \"mobilePhoneNumber\": \"The Wizard\"\n  },\n  \"authToken\": \"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6NDgwNTcsImV4cCI6MTYyNTE0Mzk5OX0.m-YPjUs8MqZItjCTrI-1j1YqOB1VH8wme8sveFUULyU\"\n}"},{"id":"d4f07930-ae6a-46ff-8486-ab297a6abd1f","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"email\": \"example@mail.com\",\n  \"password\": \"Passsword1!\",\n  \"cityletterAcceptance\": 0,\n  \"policyRulePrivacyTerms\": true,\n  \"type\": \"customer\",\n  \"firstName\": \"Harry\",\n  \"lastName\": \"Potter\",\n  \"nickname\": \"The One\",\n  \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users","host":["{{baseUrl}}"],"path":["api","v1","users"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"detail\": \"The syntax of the query is incorrect.\",\n  \"message\": \"Bad Request\",\n  \"status\": 400\n}"},{"id":"246705f8-09ed-4172-a3b2-0a9566104185","name":"An Error Happened","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n  \"email\": \"example@mail.com\",\n  \"password\": \"Passsword1!\",\n  \"cityletterAcceptance\": 0,\n  \"policyRulePrivacyTerms\": true,\n  \"type\": \"customer\",\n  \"firstName\": \"Harry\",\n  \"lastName\": \"Potter\",\n  \"nickname\": \"The One\",\n  \"mobilePhoneNumber\": \"0667766554\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users","host":["{{baseUrl}}"],"path":["api","v1","users"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n  \"detail\": \"\",\n  \"message\": \"Internal Error\",\n  \"status\": 500\n}"}]},{"name":"Retrieve citizen's informations of a user","event":[{"listen":"test","script":{"id":"d481307e-3d77-4006-9722-d23221bf6d18","exec":["var jsonData = pm.response.json ();\r","\r","pm.test(\"Status code is 200\", function () {\r","    console.log(pm.request)\r","    pm.response.to.have.status(200);\r","});\r","pm.test('La reponse est un josn',function() {\r","    pm.response.to.be.json;\r","});\r","pm.test (\"Verification du contenu de la reponse\", function () {\r","    console.log(pm.request)\r","    pm.expect(jsonData).to.have.property('id');\r","    pm.expect (jsonData.id) .to.be.a ('number');\r","    pm.expect (jsonData.lastName).not.to.be.empty;\r","    pm.expect (jsonData.firstName).not.to.be.empty;\r","   // pm.expect (jsonData.nickname).not.to.be.empty;\r","   \r","     \r","});\r","\r","pm.test('envoi du token vers la route PaTACH', function () {\r","    pm.environment.set('CityzenId', jsonData.id);\r","    postman.setNextRequest('update citizen\\'s informations of a user');\r","});"],"type":"text/javascript"}}],"id":"97b5a639-d60a-421a-b6dd-c7f9dbf3a86d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[],"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users/:id/citizen","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users",":id","citizen"],"variable":[{"key":"id","value":"{{CustomerId}}","description":"(Required) Unique identifier of the desired user."}]},"description":"Retrieve a citizen."},"response":[{"id":"0a806fdf-07c9-421d-9121-c8ff2b04efe9","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/users/:id/citizen","host":["{{baseUrl}}"],"path":["api","v1","users",":id","citizen"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"id\": 1,\n \"firstName\": \"Harry\",\n \"lastName\": \"Potter\",\n \"nickname\": \"The Wizard\",\n \"description\": \"I'm a wizard who discover wonderful product with my spell 'Accio'.\",\n \"status\": \" active\",\n \"baseline\": \"Welcome !\",\n \"facebookProfil\": \"www.facebook.com/exampleMVMS\",\n \"instagramProfil\": \"www.citizenwebsite.com/exampleMVMS\",\n \"websiteUrl\": \"www.citizenwebsite.com\",\n \"imageUrl\": \"https://aws-3-test/example/example\"\n}"},{"id":"8d2b6a7d-8cf7-4fa7-8dbb-541aa23a6725","name":"Bad request","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/users/:id/citizen","host":["{{baseUrl}}"],"path":["api","v1","users",":id","citizen"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"9e1815b3-f06b-4498-b041-c157a8faae23","name":"Forbidden","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/users/:id/citizen","host":["{{baseUrl}}"],"path":["api","v1","users",":id","citizen"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"},{"id":"b88573b9-81a1-4baa-851a-8cb0d0a2e81f","name":"NotFound","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"url":{"raw":"{{baseUrl}}/api/v1/users/:id/citizen","host":["{{baseUrl}}"],"path":["api","v1","users",":id","citizen"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"Not Found","code":404,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Resource not found\",\n \"message\": \"Not found\",\n \"status\": 404\n}"}]},{"name":"update citizen's informations of a user","event":[{"listen":"test","script":{"id":"ac87d486-87f4-4f0d-8643-62e8933bbf2c","exec":["var jsonData = pm.response.json ();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","pm.test('La reponse est un json', function () {\r","    pm.response.to.be.json;\r","});\r","\r","pm.test('verification du contenu', function () {\r","    pm.expect(jsonData).to.have.property('id');\r","    pm.expect(jsonData.id).to.be.a ('number');\r","    pm.expect(jsonData.lastName).not.to.be.empty;\r","    pm.expect(jsonData.firstName).not.to.be.empty;\r","    pm.expect(jsonData.nickname).not.to.be.empty;\r","    pm.expect(jsonData).to.have.property('imageUrl');\r","});\r","\r","pm.test('envoi vers la retrieve cityzen id', function () {\r","    pm.environment.set('CustomerId', jsonData.id)\r","    postman.setNextRequest('Retrieve citizen\\'s informations of a user (self)')\r","});"],"type":"text/javascript"}}],"id":"60623efb-2699-43ff-ae81-d2bab0461e4a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"Authorization","type":"string"}]},"method":"PATCH","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CustomerToken}}"},{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"Ben_j\",\n    \"lastName\": \"The one\",\n    \"nickname\": \"heisenberg\",\n    \"mobilePhoneNumber\": \"0666666666\",\n    \"description\": \"Only God can Judge me\",\n    \"baseline\": \"Welcome !\",\n    //\"imageId\": {{CityzenImageId}},\n    \"imageUrl\": \"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.gettyimages.fr%2Fphotos%2Fthomas-sankara&psig=AOvVaw0WTWxNYi1LZdad_hVap8B-&ust=1646180941803000&source=images&cd=vfe&ved=0CAsQjRxqFwoTCMDCruHUo_YCFQAAAAAdAAAAABAI\",\n    \"facebookProfil\": \"www.facebook.com/exampleMVMS\",\n    \"instagramProfil\": \"www.citizenwebsite.com/exampleMVMS\",\n    \"websiteUrl\": \"www.citizenwebsite.com\",\n    \"addresses\": [\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        },\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/auth/users/self/citizen","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","auth","users","self","citizen"]},"description":"Update a citizen."},"response":[{"id":"2e342b5d-bcd4-4bb8-805a-95cfeef13653","name":"Successful","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The Wizard\",\n    \"mobilePhoneNumber\": \"0666666666\",\n    \"description\": \"I'm a wizard who discover wonderful product with my spell 'Accio'.\",\n    \"baseline\": \"Welcome !\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https://path/to/image.jpeg\",\n    \"facebookProfil\": \"www.facebook.com/exampleMVMS\",\n    \"instagramProfil\": \"www.citizenwebsite.com/exampleMVMS\",\n    \"websiteUrl\": \"www.citizenwebsite.com\",\n    \"addresses\": [\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        },\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"null"},{"id":"31268d4f-385c-4b57-946e-1bd0a9b24e3f","name":"Bad request","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The Wizard\",\n    \"mobilePhoneNumber\": \"0666666666\",\n    \"description\": \"I'm a wizard who discover wonderful product with my spell 'Accio'.\",\n    \"baseline\": \"Welcome !\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https://path/to/image.jpeg\",\n    \"facebookProfil\": \"www.facebook.com/exampleMVMS\",\n    \"instagramProfil\": \"www.citizenwebsite.com/exampleMVMS\",\n    \"websiteUrl\": \"www.citizenwebsite.com\",\n    \"addresses\": [\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        },\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"01b88765-448a-42b2-9f61-049df18e77b1","name":"Unauthorized","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The Wizard\",\n    \"mobilePhoneNumber\": \"0666666666\",\n    \"description\": \"I'm a wizard who discover wonderful product with my spell 'Accio'.\",\n    \"baseline\": \"Welcome !\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https://path/to/image.jpeg\",\n    \"facebookProfil\": \"www.facebook.com/exampleMVMS\",\n    \"instagramProfil\": \"www.citizenwebsite.com/exampleMVMS\",\n    \"websiteUrl\": \"www.citizenwebsite.com\",\n    \"addresses\": [\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        },\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"00adc865-5206-4490-bb5a-b0646ca17377","name":"Forbidden","originalRequest":{"method":"PATCH","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"body":{"mode":"raw","raw":"{\n    \"firstName\": \"Harry\",\n    \"lastName\": \"Potter\",\n    \"nickname\": \"The Wizard\",\n    \"mobilePhoneNumber\": \"0666666666\",\n    \"description\": \"I'm a wizard who discover wonderful product with my spell 'Accio'.\",\n    \"baseline\": \"Welcome !\",\n    \"imageId\": 1,\n    \"imageUrl\": \"https://path/to/image.jpeg\",\n    \"facebookProfil\": \"www.facebook.com/exampleMVMS\",\n    \"instagramProfil\": \"www.citizenwebsite.com/exampleMVMS\",\n    \"websiteUrl\": \"www.citizenwebsite.com\",\n    \"addresses\": [\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        },\n        {\n            \"streetNumber\": \"15\",\n            \"route\": \"Rue de la victoire\",\n            \"zipCode\": \"33400\",\n            \"city\": \"Talence\",\n            \"country\": \"France\",\n            \"latitude\": 44.838042,\n            \"longitude\": -0.58485\n        }\n    ]\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"}]},{"name":"Retrieve citizen's informations of a user (self)","event":[{"listen":"test","script":{"id":"c2fd0e43-cf11-4832-958b-8174291d0d28","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('La reponse est un format json', function(){\r","    pm.response.to.be.json;\r","});\r","pm.test(\"Test du contenu de l'identité du cityzen\", function(){\r","    \r","    pm.expect(jsonData).to.have.property('firstName');\r","    pm.expect (jsonData.firstName).to.be.a('string');\r","    pm.expect (jsonData.firstName).to.be.a('string');\r","    pm.expect (jsonData.lastName).to.be.a('string');\r","    pm.expect (jsonData.description).to.be.a('string');\r","    pm.expect (jsonData.baseline).to.be.a('string');\r","     \r","});\r","\r","pm.test('envoi vers la route de mise à jour du cityzen', function () {\r","    pm.environment.set('CityzenEmail', jsonData.email)\r","    postman.setNextRequest('Log out');\r","})\r",""],"type":"text/javascript"}}],"id":"dba5527f-00fb-4a58-b373-ad957b9c3aa8","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CustomerToken}}"}],"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/auth/users/self/citizen","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","auth","users","self","citizen"]},"description":"Retrieve a citizen."},"response":[{"id":"b93f496e-7393-4355-bb79-9e8d03a79379","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"null"},{"id":"6aa9fdd9-7f44-4745-9e9d-709be2f90eb8","name":"Bad request","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"865d3121-f723-49ad-b701-96791452f9fd","name":"Unauthorized","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"9b6c73bb-9d52-45df-9294-f0439abd8c5f","name":"Forbidden","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/self/citizen","host":["{{baseUrl}}"],"path":["api","v1","auth","users","self","citizen"]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"}]},{"name":"Log out","event":[{"listen":"test","script":{"id":"f24d86b9-fa69-4271-831b-2feacbe9ae42","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(204);\r","});\r","postman.setNextRequest('Sign In.');"],"type":"text/javascript"}}],"id":"791fbc21-57bb-4ebf-a015-8c65bfa9258d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"Authorization","type":"string"}]},"method":"DELETE","header":[{"description":"(Required) ","key":"X-client-id","value":"{{CustomerToken}}"}],"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users/log_out","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users","log_out"]},"description":"Log out"},"response":[{"id":"f6354a27-6ad7-485e-938d-271e41bcdce0","name":"No content","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/users/log_out","host":["{{baseUrl}}"],"path":["api","v1","users","log_out"]}},"status":"No Content","code":204,"_postman_previewlanguage":"text","header":[{"key":"Content-Type","value":"text/plain"}],"cookie":[],"responseTime":null,"body":""},{"id":"c2383d2b-79c1-4f52-947d-e2ef1e220818","name":"Bad request","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/users/log_out","host":["{{baseUrl}}"],"path":["api","v1","users","log_out"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"7991b5d5-3f1f-44eb-a5c7-7e557d2e369c","name":"An Error Happened","originalRequest":{"method":"DELETE","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/users/log_out","host":["{{baseUrl}}"],"path":["api","v1","users","log_out"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Internal Error\",\n \"status\": 500\n}"}]},{"name":"Sign In.","event":[{"listen":"test","script":{"id":"e49c7d05-f89a-48e4-aa5d-8a6debe3630f","exec":["let jsonData = pm.response.json ();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(201);\r","});\r","pm.test (\"La réponse a un corps JSON\", function () {\r","    pm.response.to.be.json;\r","    \r","});\r","     \r","pm.test (\"La réponse a une propriété authToken et est un string\", function () {\r","    \r","    pm.expect (jsonData.authToken).to.be.a('string');\r","    pm.expect(jsonData).to.have.property('authToken');\r","    pm.environment.set('CreateProductCityzen', jsonData.authToken)\r","    postman.setNextRequest('Create citizen\\'s address');\r","})"],"type":"text/javascript"}}],"id":"f668eb16-3611-4e24-a05d-cccdfbf6f3c0","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"Authorization","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{CityzenEmail}}\",\n    \"password\": \"{{CityzenPassword}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users/sign_in","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users","sign_in"]},"description":"Sign In."},"response":[{"id":"308dde2e-b497-40e9-94d6-d313a6286830","name":"Successful response","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"authToken\": \"eNJhbGciOiJ1Uz61NiJ9.eyJpZCI6NDgZNTQsImV42CI6MTYyMjEwMzc4NX0.JXVo1WKZx2OgDPW4w7afCTupkCRTHYUjnLBnnaZGiJ7I\"\n}"},{"id":"8945a04a-ecc1-40b9-b7a0-861d3fae7d02","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"577feb60-f428-4c1b-bf90-c4f472af86ef","name":"Unprocessable Entity","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Unprocessable Entity (WebDAV) (RFC 4918)","code":422,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"},{"id":"bb891ff4-d047-4bc9-b619-44c14860660b","name":"An Error Happened","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"}]},{"name":"Create citizen's address","event":[{"listen":"test","script":{"id":"4994abf1-1d8c-4c77-93e8-feaf107839e6","exec":["var jsonData = pm.response.json();\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(201);\r","});\r","pm.test('verification du contenu de la reponse', function () {\r","    pm.expect(jsonData).to.have.property('streetNumber');\r","    pm.expect(jsonData.route).not.eql(null);\r","    pm.expect(jsonData.zipCode).to.be.a('string');\r","    pm.expect(jsonData.postalCode).to.be.a('string');\r","    pm.expect(jsonData.city).to.be.a('string');\r","    pm.expect(jsonData.locality).to.be.a('string');\r","    pm.expect(jsonData.country).to.be.a('string');\r","    pm.expect(jsonData.firstName).not.eql(null);\r","    pm.expect(jsonData.lastName).not.eql(null);\r","    pm.expect(jsonData.phoneNumber).to.be.a('string');\r","    pm.expect(jsonData).to.have.property('town');\r","    pm.expect(jsonData.town.inseeCode).to.be.a('string');\r","    pm.expect(jsonData.id).to.be.a('number');\r","})\r","\r","pm.test('envoi du token pour retourner les adresses du cityzen', function () {\r","    postman.setNextRequest('Retrieve citizen\\'s addresses')\r","    postman.setNextRequest('')\r","})"],"type":"text/javascript"}}],"id":"73b18847-1d50-4488-9de2-0e8ea6e3d22c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"key","value":"authorization","type":"string"},{"key":"value","value":"{{ApiKey}}","type":"string"}]},"method":"POST","header":[{"key":"x-client-id","value":"{{CreateProductCityzen}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"label\": \"Bureau\",\r\n  \"streetNumber\": \"52\",\r\n  \"route\": \"Rue Georges Bonnac\",\r\n  \"locality\": \"Bordeaux\",\r\n  \"country\": \"France\",\r\n  \"postalCode\": \"33000\",\r\n  \"inseeCode\": \"33063\",\r\n  \"latitude\": \"44.812023\",\r\n  \"longitude\": \"-0.543784\",\r\n  \"firstName\": \"Claude\",\r\n  \"lastName\": \"Monet\",\r\n  \"phoneNumber\": \"0712345678\",\r\n  \"isDefault\": true,\r\n  \"furtherInformation\": \"L'adresse du cityzen\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/auth/citizen/addresses","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","auth","citizen","addresses"]}},"response":[]},{"name":"Retrieve citizen's addresses","event":[{"listen":"test","script":{"id":"f5aae704-16d4-4c42-9612-7f33b9629e1c","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verifier que nous avons un tableau d\\'objet', function () {\r","    pm.expect(jsonData).to.be.an('array');\r","    pm.expect(jsonData[1]).to.have.property('id')\r","});\r","pm.test('envoi de l\\id de l\\'adresse pour modification', function (){\r","    pm.environment.set('AddresId', jsonData[0].id);\r","    postman.setNextRequest('Update citizen\\'s address');\r","})"],"type":"text/javascript"}}],"id":"07bb2e33-0714-4185-94ef-289908f1ac3d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"key","value":"authorization","type":"string"},{"key":"value","value":"{{ApiKey}}","type":"string"}]},"method":"GET","header":[{"key":"x-client-id","value":"{{CreateProductCityzen}}","type":"text"}],"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/auth/citizen/addresses","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","auth","citizen","addresses"]}},"response":[]},{"name":"Update citizen's address","event":[{"listen":"test","script":{"id":"60db2176-fdfc-447e-8625-d43adecd0454","exec":["var jsonData = pm.response.json();\r","\r","pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test('verification de la modification de l\\'adresse', function () {\r","    pm.expect(jsonData.label).to.eql('Maison')\r","})"],"type":"text/javascript"}}],"id":"247eedd6-d2be-44c3-a37b-2d127afa2a7a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"key","value":"authorization","type":"string"},{"key":"value","value":"{{ApiKey}}","type":"string"}]},"method":"PATCH","header":[{"key":"x-client-id","value":"{{CreateProductCityzen}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n  \"label\": \"Maison\"\r\n  /*\"streetNumber\": \"11 bis\",\r\n  \"route\": \"Rue Pauly\",\r\n  \"locality\": \"Begles\",\r\n  \"country\": \"France\",\r\n  \"postalCode\": \"33130\",\r\n  \"inseeCode\": \"33063\",\r\n  \"latitude\": \"44.812023\",\r\n  \"longitude\": \"-0.543784\",\r\n  \"firstName\": \"Claude\",\r\n  \"lastName\": \"Monet\",\r\n  \"phoneNumber\": \"0712345678\",\r\n  \"isDefault\": true,\r\n  \"furtherInformation\": \"Infos additionnelles\"*/\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/auth/citizen/addresses/:id ","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","auth","citizen","addresses",":id "],"variable":[{"key":"id ","value":"{{AddresId}}"}]}},"response":[]},{"name":"Create a product for a citizen.","event":[{"listen":"prerequest","script":{"id":"142b7a88-60fb-4494-9169-665af3e99acb","exec":["/*let authToken = pm.environment.get(\"authToken\");","console.log(\"AuthToken:\", authToken);*/"],"type":"text/javascript"}},{"listen":"test","script":{"id":"ea8c9a9e-7a8a-4819-817c-753cc58c24be","exec":["","var jsonData = pm.response.json();","","pm.test(\"Status code is 202\", function () {","    console.log(pm.request)","    pm.response.to.have.status(202);","});","","pm.test('verification de la presence d\\'une Url',function () {","   pm.expect(jsonData.url).not.to.be.empty","","})","/*pm.environment.set(\"productName\", \"Postman test\");","","setTimeout(function(){}, [10000]);*/"],"type":"text/javascript"}}],"id":"d6826850-1885-46d7-89eb-8c1916f5e0c1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"key","value":"authorization","type":"string"},{"key":"value","value":"{{ApiKey}}","type":"string"}]},"method":"POST","header":[{"key":"x-client-id","value":"{{CreateProductCityzen}}","type":"default"}],"body":{"mode":"raw","raw":"\n{\n  \"name\": \"Cityzen Product\",\n  \"description\": \"Chaussures trop bien\",\n  \"brand\": \"Chaussures trop bien\",\n  \"status\": \"submitted\",\n  \"sellerAdvice\": \"Taille petite, prendre une demi pointure au dessus\",\n  \"isService\": false,\n  \"citizenAdvice\": \"Produit trouvé un commercant trop sympa\",\n  \"categoryId\": {{CategoryId}},\n  \"shopId\": 8285,\n  \"variants\": [\n    {\n      \"basePrice\": 20,\n      \"weight\": 0.56,\n      \"quantity\": 35,\n      \"isDefault\": true,\n      /*\"imageIds\": [\n        234,\n        45566,\n        345\n      ],*/\n      \"imageUrls\": [\n        \"https://www.moneyvox.fr/i/media/05l/005991lb54.jpg\"\n      ],\n      \"goodDeal\": {\n        \"startAt\": \"20/07/2021\",\n        \"endAt\": \"27/07/2021\",\n        \"discount\": 45\n      },\n      \"characteristics\": [\n        {\n          \"name\": \"color\",\n          \"value\": \"Bleu\"\n        }\n      ]\n    }\n  ],\n  \"origin\": \"France\",\n  \"allergens\": \"Contient des traces de fruit à coques\",\n  \"composition\": \"Oeuf, sucre\"\n}\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{CatalogSlug}}/api/v1/auth/citizens/self/products","host":["{{BaseUrl}}"],"path":["{{CatalogSlug}}","api","v1","auth","citizens","self","products"]}},"response":[]},{"name":"Sign In","event":[{"listen":"test","script":{"id":"e49c7d05-f89a-48e4-aa5d-8a6debe3630f","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(201);\r","});\r","pm.test (\"La réponse a un corps JSON\", function () {\r","    pm.response.to.be.json;\r","    \r","});\r","     \r","pm.test (\"La réponse a une propriété authToken et est un string\", function () {\r","    var jsonData = pm.response.json ();\r","    pm.expect (jsonData.authToken).to.be.a('string');\r","    pm.expect(jsonData).to.have.property('authToken');\r","    pm.environment.set('ShopToken', jsonData.authToken)\r","    postman.setNextRequest('Retrieve pro\\'s informations');\r","})"],"type":"text/javascript"}}],"id":"f09b8d77-0005-4cba-a704-cf7b226bb8e2","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"Authorization","type":"string"}]},"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"{{ShopEmail}}\",\n    \"password\": \"{{ShopPassword}}\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/users/sign_in","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","users","sign_in"]},"description":"Sign In."},"response":[{"id":"2297ddf1-8010-4f4f-831c-44a9a01ed698","name":"Successful response","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Created","code":201,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"authToken\": \"eNJhbGciOiJ1Uz61NiJ9.eyJpZCI6NDgZNTQsImV42CI6MTYyMjEwMzc4NX0.JXVo1WKZx2OgDPW4w7afCTupkCRTHYUjnLBnnaZGiJ7I\"\n}"},{"id":"3453973b-c205-4394-87bd-73b40824a8ab","name":"Bad request","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"fda943e7-becc-417f-ad85-5ddf679e6091","name":"Unprocessable Entity","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Unprocessable Entity (WebDAV) (RFC 4918)","code":422,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"},{"id":"48d54829-f461-41f5-81cd-e1858437e492","name":"An Error Happened","originalRequest":{"method":"POST","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"}],"body":{"mode":"raw","raw":"{\n    \"email\": \"example@mail.com\",\n    \"password\": \"Passsword1!\"\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{baseUrl}}/api/v1/users/sign_in","host":["{{baseUrl}}"],"path":["api","v1","users","sign_in"]}},"status":"Internal Server Error","code":500,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"Password or email invalid.\",\n \"message\": \"Unprocessable Entity\",\n \"status\": 422\n}"}]},{"name":"Retrieve pro's informations","event":[{"listen":"test","script":{"id":"5e8f396c-40af-49de-9d44-441135850daf","exec":["pm.test(\"Status code is 200\", function () {\r","    pm.response.to.have.status(200);\r","});"],"type":"text/javascript"}}],"id":"732030db-69d6-466a-b2f7-af75cc8bb1e3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"apikey","apikey":[{"key":"value","value":"{{ApiKey}}","type":"string"},{"key":"key","value":"authorization","type":"string"},{"key":"in","value":"header","type":"string"}]},"method":"GET","header":[{"description":"(Required) ","key":"X-client-id","value":"{{ShopToken}}"}],"url":{"raw":"{{BaseUrl}}/{{UserSlug}}/api/v1/auth/users/:id/pros","host":["{{BaseUrl}}"],"path":["{{UserSlug}}","api","v1","auth","users",":id","pros"],"variable":[{"key":"id","value":"{{UserShopId}}","description":"(Required) Unique identifier of the desired user."}]},"description":"Retrieve a pro informations."},"response":[{"id":"10e9bcdc-f081-429d-b6b8-f0cd380bded1","name":"Successful","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/:id/pros","host":["{{baseUrl}}"],"path":["api","v1","auth","users",":id","pros"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"null"},{"id":"d99306f8-4bac-4f5a-bbee-e31092fb2985","name":"Bad request","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/:id/pros","host":["{{baseUrl}}"],"path":["api","v1","auth","users",":id","pros"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"Bad Request","code":400,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"The syntax of the query is incorrect.\",\n \"message\": \"Bad Request\",\n \"status\": 400\n}"},{"id":"2d32431f-39a5-4fd3-8a11-ca5602fd1693","name":"Unauthorized","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/:id/pros","host":["{{baseUrl}}"],"path":["api","v1","auth","users",":id","pros"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"Unauthorized","code":401,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Unauthorized\",\n \"status\": 401\n}"},{"id":"8400a7e3-c588-4fcf-8464-d9a17b75d2b3","name":"Forbidden","originalRequest":{"method":"GET","header":[{"description":"Added as a part of security scheme: apikey","key":"authorization","value":"<API Key>"},{"description":"(Required) ","key":"X-client-id","value":"dolor commodo Lorem dolore"}],"url":{"raw":"{{baseUrl}}/api/v1/auth/users/:id/pros","host":["{{baseUrl}}"],"path":["api","v1","auth","users",":id","pros"],"variable":[{"key":"id","value":"dolor commodo Lorem dolore","description":"(Required) Unique identifier of the desired user."}]}},"status":"Forbidden","code":403,"_postman_previewlanguage":"json","header":[{"key":"Content-Type","value":"application/json"}],"cookie":[],"responseTime":null,"body":"{\n \"detail\": \"\",\n \"message\": \"Forbidden\",\n \"status\": 403\n}"}]}],"auth":{"type":"apikey","apikey":[{"key":"key","value":"authorization","type":"string"},{"key":"value","value":"{{ApiKey}}","type":"string"}]},"event":[{"listen":"prerequest","script":{"id":"dd8fd0f1-93d1-4397-9c5d-ce04fdc2ff4d","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"c815e439-e22d-425c-af6a-ea308bff44d9","type":"text/javascript","exec":[""]}}],"variable":[{"id":"96b6feb8-a63c-4a11-bf7b-dd21947955f1","key":"baseUrl","value":"https://stingy-advice-gw.aws-euc1.cloud-ara.tyk.io/user-management-staging","type":"string"}]}